function user_c(t){var e="",n="",i="",a=encodeURIComponent(window.document.location.href),o=window["BD_PS_C"+(new Date).getTime()]=new Image,s=bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://nsclick.baidu.com"):"http://nsclick.baidu.com";for(v in t){switch(v){case"title":n=encodeURIComponent(t[v].replace(/<[^<>]+>/g,""));break;case"url":n=encodeURIComponent(t[v]);break;default:n=t[v]}e+=v+"="+n+"&"}return i="&mu="+a,o.src=s+"/v.gif?pid=201&pj=psuser&"+e+"path="+a+"&t="+(new Date).getTime(),!0
}function u(t,e,n,i){t&&e&&(t.on("mouseover",function(){t.addClass("ipthover")}).on("mouseout",function(){t.removeClass("ipthover")}).on("click",function(){e.focus()}),e.on("focus",function(){t.addClass("iptfocus")}).on("blur",function(){t.removeClass("iptfocus")})),n&&i&&n.on("mouseover",function(){i.addClass("btnhover")}).on("mouseout",function(){i.removeClass("btnhover")})}function form_submit(){var t=$("#kw"),e=t.val();return e&&(e=bds.util.limitWd(e),bds.comm.resultSug.setKey(e)),!0}function setFoot(){$(".pagefoot").css($(document.body).height()<$(window).height()?{position:"fixed",bottom:"0"}:{position:"relative"})
}function renderAuthor(t){var e,n="",i="",a="",o="",s="",r="",c=0,l="sc_hilight=person",u=[];c=t.length;for(var d=0;3>d;d++)e=t[d],e&&e.sc_name&&(e.sc_author_uri?(i="authoruri:("+e.sc_author_uri[0]+") author:("+e.sc_name[0]+")",s="&sort=sc_cited"):(i="author:("+e.sc_name[0]+")",s=""),e.sc_affiliate&&(i+=" "+e.sc_affiliate[0]),a=e.sc_name[1]?e.sc_name[1]:e.sc_name[0],e.sc_label&&1==e.sc_label[0]&&e.sc_author_uri?(o="//xueshu.baidu.com/usercenter/data/author?cmd=authoruri&wd="+encodeURIComponent(i),r=" c_underline"):(o="/s?wd="+encodeURIComponent(i)+commUrl+"&sc_f_para="+encodeURIComponent(l)+s,r=""),n='<a class="sc_info_a'+r+'" href="'+o+'" target="_blank" data-click="{\'button_tp\':\'author\'}">',n+=a,n+="</a>",u.push(n));
return c>3&&u.push("..."),n=u.join("，")}function renderPub(t){for(var e="",n="",i="sc_hilight=publish",a=["sc_journal","sc_conference","sc_booktitle","sc_publisher"],o=["journaluri","confuri","bookuri","puburi"],s="",r="",c="",l=0;4>l;l++)if(s=a[l],t[s]){n=t[s][1]?t[s][1]:t[s][0],t[s+"_uri"]&&(c=o[l]+":("+t[s+"_uri"]+")"),r=c+" "+n;break}return e=c?'<a class="sc_info_a" href="/s?wd='+encodeURIComponent(r)+commUrl+"&sc_f_para="+encodeURIComponent(i)+'&sort=sc_cited" target="_blank" title="'+n+"\" data-click=\"{'button_tp':'publish'}\">"+n+"</a>":n
}function parseCited(t){return 1e4>t?t:parseFloat(t/1e4).toFixed(1)+"万"}function renderList(t,e){for(var n=t.resultList.length,i=".con_"+e,a="",o="",s="",r="",c="",l="",u="",d="",p=[],f=null,h="",m="",b="",g="",_=0;n>_;_++)p=[],f=t.resultList[_].meta_di_info,f.sc_title&&(u="sc_long_sign={"+f.sc_longsign[0]+"}",d="paperuri:("+f.sc_longsign[0]+")",g="&sc_ks_para="+encodeURIComponent("q="+$.subByte(f.sc_title[0],200)),c='<p class="rel_title"><a href="/s?wd='+encodeURIComponent(d)+"&filter=sc_long_sign"+(f.urlSign?"&sc_us="+f.urlSign:"")+commUrl+g+'"  class="relative_title" target="_blank" data-click="{\'button_tp\':\'title\'}">'+f.sc_title[0]+"</a></p>",f.sc_year&&f.sc_year[0]?f.sc_year[0]&&p.push('<span class="sc_year">'+f.sc_year[0]+"</span>"):p.push('<span class="sc_year">&nbsp;</span>'),f.sc_cited&&(m=renderCite(f),m&&p.push('<span class="sc_cited">'+m+"</span>")),p.push("<p>"),f.sc_author&&(h=renderAuthor(f.sc_author),h&&p.push(h)),f.sc_publish&&(b=renderPub(f.sc_publish[0]),b&&p.push("&nbsp;-&nbsp;"+b)),p.push("</p>"),l=p.join(""),o+="<li>"+c+'<div class="sc_info">'+l+"</div></li>");
if(related_first&&"related"==e)related_first=!1,a='<ul class="related_lists">'+o+"</ul>",t.totalPageNum>t.pageNo&&(r="<div class=\"dl_more more_btn OP_LOG_BTN\" data-click=\"{'button_tp':'more','fm':'beha'}\" data-type=\"related\" data-pn=\""+(t.pageNo+1)+'"><p class="request_situ">加载更多</p></div>',a+=r),$(i).html(a),$(".con_reference").show(),$(".con_citation").show();else if(reference_first&&"reference"==e)reference_first=!1,a='<ul class="reference_lists">'+o+"</ul>",s='<p class="title_s">参考文献</p>',t.totalPageNum>t.pageNo&&(r="<div class=\"dl_more more_btn OP_LOG_BTN\" data-click=\"{'button_tp':'more','fm':'beha'}\" data-type=\"reference\" data-pn=\""+(t.pageNo+1)+'"><p class="request_situ">加载更多</p></div>'),a=s+a+r,$(i).html(a);
else if(citation_first&&"citation"==e)citation_first=!1,a='<ul class="citation_lists">'+o+"</ul>",s='<p class="title_s">引证文献</p>',t.totalPageNum>t.pageNo&&(r="<div class=\"dl_more more_btn OP_LOG_BTN\" data-click=\"{'button_tp':'more','fm':'beha'}\" data-type=\"citation\" data-pn=\""+(t.pageNo+1)+'"><p class="request_situ">加载更多</p></div>'),a=s+a+r,$(i).html(a);else{var v="."+e+"_lists";$(v).html($(v).html()+o),t.totalPageNum>t.pageNo?$(i).find(".dl_more").addClass("more_btn").attr("data-pn",t.pageNo+1).attr("data-type",e).html('<p class="request_situ">加载更多</p>'):$(i).find(".dl_more").hide()
}setFoot()}function renderCite(t){var e="",n="",i=0,a="";return t.sc_cited&&t.sc_cited[0]&&(i=t.sc_cited[0]),0!=i?(i=parseCited(i),n="refpaperuri:("+t.sc_longsign[0]+")",a="sc_cita={"+t.sc_title[0]+","+i+"}",e='<span>被引量:&nbsp;</span><a class="sc_info_a" href="/s?wd='+encodeURIComponent(n)+"&sc_f_para="+encodeURIComponent(a)+"&sort=sc_cited"+commUrl+'" class="" target="_blank" data-click="{\'button_tp\':\'sc_cited\'}">'+i+"</a>"):e="<span>被引量:&nbsp;</span>"+i,e}function request(t,e,n){e=e||1,pageNum=e;
var i=requesting(),a="";"related"==t?(related_first?$(".con_related").html(i):$(".con_related").find(".dl_more").removeClass("more_btn").html(i),related_rt+=1,a=defaultWd):"reference"==t?(reference_first?$(".con_reference").html(i):$(".con_reference").find(".dl_more").removeClass("more_btn").html(i),reference_rt+=1,a=refWd):"citation"==t&&(citation_first?$(".con_citation").html(i):$(".con_citation").find(".dl_more").removeClass("more_btn").html(i),citation_rt+=1,a=citaWd),$.ajax({url:"//xueshu.baidu.com/usercenter/data/schpaper",dataType:"jsonp",data:{wd:a,req_url:defTitleurl,type:t,rn:10,page_no:e},timeout:1200,success:function(n){0==n.status?(renderList(n.data,t),resetRT(t,0)):requestAgain(t,e)
},complete:function(i,a){n&&n(),"success"!==a&&requestAgain(t,e)}})}function requestAgain(t,e){"related"==t?related_first&&requestTimes_first>related_rt||!related_first&&requestTimes>related_rt?request("related",e):(resetRT("related",0),related_first?(retry($(".con_related"),"related",e),$(".con_reference").show(),$(".con_citation").show()):retry($(".con_related").find(".dl_more"),"related",e)):"reference"==t?reference_first&&requestTimes_first>reference_rt||!reference_first&&requestTimes>reference_rt?request("reference",e):(resetRT("reference",0),reference_first?retry($(".con_reference"),"reference",e):retry($(".con_reference").find(".dl_more"),"reference",e)):"citation"==t&&(citation_first&&requestTimes_first>citation_rt||!citation_first&&requestTimes>citation_rt?request("citation",e):(resetRT("citation",0),citation_first?retry($(".con_citation"),"citation",e):retry($(".con_citation").find(".dl_more"),"citation",e)))
}function resetRT(t,e){e=e||0,"related"==t?related_rt=e:"reference"==t?reference_rt=e:citation_rt=e}function retry(t,e,n){t.html('<p class="request_situ retry_btn" data-type="'+e+'" data-pn="'+n+'"><i class="c-icon c-icon-fail-circle"></i>加载失败，重新加载</p>')}function leftTabShow(){leftTab.css({left:$("#dtl_l").offset().left+750+"px",opacity:1,"z-index":"1"})}function leftTabHide(){leftTab.css({left:$("#dtl_l").offset().left+790+"px",opacity:0,"z-index":"-1"})}function bindEvent(){var t=$(".list_tab"),e=t.offset().top-76+t.outerHeight(!0);
navigator.userAgent.indexOf("MSIE 6.0")>0||($(".tab_left").show(),$(window).scroll(function(){var t=$(document).scrollTop(),n=$(".con_related").offset().top-76+$(".con_related").outerHeight(!0),i=$(".con_reference").offset().top-76+$(".con_reference").outerHeight(!0);$(".con_citation").offset().top-76+$(".con_citation").outerHeight(!0),0>e-t?leftTabShow():leftTabHide(),n-t>=0?$(".rel_tab").addClass("select").siblings("p").removeClass("select"):i-t>=0?$(".ref_tab").addClass("select").siblings("p").removeClass("select"):$(".cit_tab").addClass("select").siblings("p").removeClass("select")
})),$(".relative_content").on("click",".more_btn",function(t){var e=$(t.currentTarget);request(e.attr("data-type"),e.attr("data-pn"))}).on("click",".retry_btn",function(t){var e=$(t.currentTarget);request(e.attr("data-type"),e.attr("data-pn"))})}function requesting(){var t="",e=navigator.userAgent,n=/MSIE (\d+).*/,i=e.match(n);return i&&parseInt(i[1])<9?t="加载中...":(t=['<span class="spinner">','<span class="bounce1"></span>','<span class="bounce2"></span>','<span class="bounce3"></span>',"</span>"].join(""),t+="加载中"),t='<p class="request_situ">'+t+"</p>"
}function setDTLLeftHeight(){var t=$("#dtl_main"),e=$("#head_wr").outerHeight(),n=$("#foot").outerHeight(),i=$(window).height(),a=i-n-e;a>t.height()&&t.css({"min-height":a,_height:a,_overflow:"visible"})}jQuery&&jQuery.extend({stringify:function(t){function e(t){return/["\\\x00-\x1f]/.test(t)&&(t=t.replace(/["\\\x00-\x1f]/g,function(t){var e=a[t];return e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})),'"'+t+'"'}function n(t){var e,n,i,a=["["],o=t.length;for(n=0;o>n;n++)switch(i=t[n],typeof i){case"undefined":case"function":case"unknown":break;
default:e&&a.push(","),a.push($.stringify(i)),e=1}return a.push("]"),a.join("")}if("JSON"in window)return JSON.stringify(t);var i=typeof t;if("object"!=i||null===t)return"string"==i&&(t='"'+t+'"'),String(t);var a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};switch(typeof t){case"undefined":return"undefined";case"number":return isFinite(t)?String(t):"null";case"string":return e(t);case"boolean":return String(t);default:if(null===t)return"null";if(t instanceof Array)return n(t);
var o,s,r=["{"],c=$.stringify;for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l))switch(s=t[l],typeof s){case"undefined":case"unknown":case"function":break;default:o&&r.push(","),o=1,r.push(c(l)+":"+c(s))}return r.push("}"),r.join("")}},format:function(t,e){t=String(t);var n=Array.prototype.slice.call(arguments,1),i=Object.prototype.toString;return n.length?(n=1==n.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(i.call(e))?e:n,t.replace(/#\{(.+?)\}/g,function(t,e){var a=n[e];
return"[object Function]"==i.call(a)&&(a=a(e)),"undefined"==typeof a?"":a})):t},subByte:function(t,e,n){var i=[],a=t.split("");n=n||"…";for(var o=0,s=a.length;s>o;o++)a[o].charCodeAt(0)>255&&i.push("*"),i.push(a[o]);return e&&e>0&&i.length>e?a=i.join("").substring(0,e-1).replace(/\*/g,"")+n:t},getByteLength:function(t){for(var e=[],n=t.split(""),i=0,a=n.length;a>i;i++)n[i].charCodeAt(0)>255&&e.push("*"),e.push(n[i]);return e.length},_isValidKey:function(t){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)
},setCookie:function(t,e,n){if(e=encodeURIComponent(e),jQuery._isValidKey(t)){n=n||{};var i=n.expires;"number"==typeof n.expires&&(i=new Date,i.setTime(i.getTime()+n.expires)),document.cookie=t+"="+e+(n.path?"; path="+n.path:"")+(i?"; expires="+i.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},getCookie:function(t){var e="";if(jQuery._isValidKey(t)){var n=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=n.exec(document.cookie);if(i&&(e=i[2]||null,"string"==typeof e))return e=decodeURIComponent(e)
}return null},removeCookie:function(t,e){e=e||{},e.expires=new Date(0),jQuery.setCookie(t,"",e)}}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,a,o,s,r=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);
case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)s[n]=str(n,c)||"null";return a=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+r+"]":"["+s.join(",")+"]",gap=r,a}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],a=str(i,c),a&&s.push(quote(i)+(gap?": ":":")+a));else for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(a=str(i,c),a&&s.push(quote(i)+(gap?": ":":")+a));
return a=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+r+"}":"{"+s.join(",")+"}",gap=r,a}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var i;
if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,a=t[e];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i=walk(a,n),void 0!==i?a[n]=i:delete a[n]);return reviver.call(t,e,a)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)
})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),bds.se.heightControl=function(){var t=$("#content_right"),e=$("#content_left"),n=function(){return t.height()>e.height()},i=function(){var n=$("#head_wr").outerHeight(),i=$("#foot").outerHeight(),a=$(window).height(),o=a-i-n,s=t.outerHeight();o=Math.max(o,s),o>e.height()&&e.css({"min-height":o,_height:o,_overflow:"visible"})
},a=function(){var t=$("#content_right").find(".result-op");n()?$(t).css("display","none"):$(t).css("display","block")},o=function(){i();var t=navigator.userAgent,e=/MSIE (\d+).*/,n=t.match(e);n&&parseInt(n[1])<=6&&a()};return{init:o}}(),bds.se.heightControl.init(),jQuery&&jQuery.extend({stringify:function(t){function e(t){return/["\\\x00-\x1f]/.test(t)&&(t=t.replace(/["\\\x00-\x1f]/g,function(t){var e=a[t];return e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})),'"'+t+'"'
}function n(t){var e,n,i,a=["["],o=t.length;for(n=0;o>n;n++)switch(i=t[n],typeof i){case"undefined":case"function":case"unknown":break;default:e&&a.push(","),a.push($.stringify(i)),e=1}return a.push("]"),a.join("")}if("JSON"in window)return JSON.stringify(t);var i=typeof t;if("object"!=i||null===t)return"string"==i&&(t='"'+t+'"'),String(t);var a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};switch(typeof t){case"undefined":return"undefined";case"number":return isFinite(t)?String(t):"null";
case"string":return e(t);case"boolean":return String(t);default:if(null===t)return"null";if(t instanceof Array)return n(t);var o,s,r=["{"],c=$.stringify;for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l))switch(s=t[l],typeof s){case"undefined":case"unknown":case"function":break;default:o&&r.push(","),o=1,r.push(c(l)+":"+c(s))}return r.push("}"),r.join("")}},format:function(t,e){t=String(t);var n=Array.prototype.slice.call(arguments,1),i=Object.prototype.toString;return n.length?(n=1==n.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(i.call(e))?e:n,t.replace(/#\{(.+?)\}/g,function(t,e){var a=n[e];
return"[object Function]"==i.call(a)&&(a=a(e)),"undefined"==typeof a?"":a})):t},subByte:function(t,e,n){var i=[],a=t.split("");n=n||"…";for(var o=0,s=a.length;s>o;o++)a[o].charCodeAt(0)>255&&i.push("*"),i.push(a[o]);return e&&e>0&&i.length>e?a=i.join("").substring(0,e-1).replace(/\*/g,"")+n:t},getByteLength:function(t){for(var e=[],n=t.split(""),i=0,a=n.length;a>i;i++)n[i].charCodeAt(0)>255&&e.push("*"),e.push(n[i]);return e.length},_isValidKey:function(t){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)
},setCookie:function(t,e,n){if(e=encodeURIComponent(e),jQuery._isValidKey(t)){n=n||{};var i=n.expires;"number"==typeof n.expires&&(i=new Date,i.setTime(i.getTime()+n.expires)),document.cookie=t+"="+e+(n.path?"; path="+n.path:"")+(i?"; expires="+i.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},getCookie:function(t){var e="";if(jQuery._isValidKey(t)){var n=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=n.exec(document.cookie);if(i&&(e=i[2]||null,"string"==typeof e))return e=decodeURIComponent(e)
}return null},removeCookie:function(t,e){e=e||{},e.expires=new Date(0),jQuery.setCookie(t,"",e)}}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,a,o,s,r=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);
case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)s[n]=str(n,c)||"null";return a=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+r+"]":"["+s.join(",")+"]",gap=r,a}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],a=str(i,c),a&&s.push(quote(i)+(gap?": ":":")+a));else for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(a=str(i,c),a&&s.push(quote(i)+(gap?": ":":")+a));
return a=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+r+"}":"{"+s.join(",")+"}",gap=r,a}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var i;
if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,a=t[e];if(a&&"object"==typeof a)for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(i=walk(a,n),void 0!==i?a[n]=i:delete a[n]);return reviver.call(t,e,a)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)
})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),!function(t){function e(t,n,i){if(i=i||[],n=n||document,t===n)return i;if(t.parentNode!==n&&(i=e(t.parentNode,n,i)),t.previousSibling){var a=1,o=t.previousSibling;do 1==o.nodeType&&o.nodeName==t.nodeName&&a++,o=o.previousSibling;while(o)}return 1==t.nodeType&&i.push(t.nodeName.toLowerCase()+(a>1?a:"")),i
}function n(e,n,i){for(var a=n,s=o,r=s.length,c=e.join(" ");a!==i;){for(var l=0;r>l;l++)if(t(a).hasClass("OP_LOG_"+s[l]))return s[l].toLowerCase();a=a.parentNode}return/\bh3\d*\b/.test(c)?"title":/\bimg\d*\b/.test(c)?"img":/\ba\d*\b/.test(c)?"link":/\b(input|select|button|textarea|datalist)\d*\b/.test(c)?"input":/\blabel\d*\b/.test(c)&&n.getElementsByTagName("input").length>0?"input":""}function i(){t("body").on("mousedown",function(n){var n=window.event||n,i=n.srcElement||n.target,o=t(i);try{for(var s,r,c=o;c.length&&!(c.hasClass("result")||c.hasClass("result-op")||c.hasClass("xpath-log"));)c=c.parent();
if(!c.length)return;c.hasClass("result-op")?s="alop":c.hasClass("result")&&(s="as"),r=c.get(0);var l=e(i,r);a(l,i,r,s)}catch(n){}}),t(".sc_common_guidhint").on("mousedown",function(){var e=t(this),n=e.get(0),i=window.event||i,a=i.srcElement||i.target,o={};if(o.hintTpl=e.attr("data-tpl"),o.hintId=e.attr("data-id"),o.hintId&&o.hintId){var s,r,c=a;do{if(s=c.getAttribute("data-click"))try{s=new Function("return "+s)();for(r in s)"undefined"==typeof o[r]&&s.hasOwnProperty(r)&&(o[r]=s[r])}catch(i){}c=c.parentNode
}while(c&&c!==n.parentNode);window.ns_c_xs(o)}})}function a(e,i,a,o){if(null==i.getAttribute("data-nolog")){var s=n(e,i,a);if(!s)return!1;if("title"==s&&!/\ba\d*\b/.test(e))return!1;var r,c=e.length,l=i,u="",d=a.getAttribute("srcid")||"",p=a.getAttribute("mu")||"",f=a.getAttribute("tpl")||"",h=1==i.nodeType?i.tagName.toLowerCase():"";if("input"==s)if(/input|textarea/.test(h))u=i.value,i.type&&"password"==i.type.toLowerCase()&&(u="");else if(/select|datalist/.test(h)){if(i.children.length>0){var m=i.selectedIndex||0;
u=i.children[m>-1?m:0].innerHTML}}else u=i.innerHTML||i.value||"";else if("img"==h&&(u=i.title),!u)for(;c>1;){if(c--,/^a\d*\b/.test(e[c])){if(r=l.href,u=l.innerText,null!=l.getAttribute("data-nolog"))return;break}if(l.className&&/OP_LOG_/.test(l.className)){u=l.innerText;break}l=l.parentNode}r&&"#"!==r.slice(-1)&&/^http/.test(r)||(r=p);var b={url:1,title:1},g={rsv_xpath:e.join("-")+"("+s+")",title:t.trim(u)||"",url:r};a.id&&a.id.match(/^\d+$/)&&(g.p1=a.id),d&&(g.rsv_srcid=d),f&&(g.rsv_tpl=f);var _,v,w;
l=i;do{if(null!=l.getAttribute("data-nolog"))return;if(_=l.getAttribute("data-click"))try{_=new Function("return "+_)();for(v in _)"fm"==v&&null===_.fm&&(w=!0),("undefined"==typeof g[v]||b[v])&&_.hasOwnProperty(v)&&(g[v]=_[v])}catch(y){}l=l.parentNode}while(l&&l!==a.parentNode);for(var $ in g)null===g[$]&&delete g[$];if("title"==s?"mu"in g&&delete g.mu:g.mu||(g.mu=p),w)"fm"in g&&delete g.fm;else if("input"==s&&(g.fm="beha"),g.fm||(g.fm=o),!g.fm)return;window.ns_c_xs(g)}}var o=["TITLE","LINK","IMG","BTN"];
t(document).ready(function(){i()})}(jQuery),bds.se.cookie=function(){function t(t,e,n){var i=window.location.hostname;n=n||{},"www.baidu.com"!==i&&(n.path="/",n.domain=i,$.setCookie(t,e,n))}function e(t){return $.getCookie(t)}return{get:e,set:t}}(),!function(t){function e(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar){var t={product_id:65};bds.qa.ShortCut.initRightBar(t);var e={product_id:"65",username:bds.comm.username,query:bds.comm.ishome?"":bds.comm.query};bds.qa.ShortCut._getProData(e)
}}function n(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar)e();else{if(bds&&bds.util&&bds.util.domain&&bds.util.domain.get)var n=bds.util.domain.get("http://f3.baidu.com/");else var n="http://f3.baidu.com/";t.ajax({url:n+"feedback/js/feedback/feedback0.0.2.js",dataType:"script",success:function(){e()},error:function(){}})}}t(".feedback").on("click",function(){return n(),!1})}(jQuery),$.getScript("//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),function(){bds.se.passv3=passport.pop.init({apiOpt:{loginType:1,product:"xueshu",subpro:bds.comm.subpro||"",u:window.document.location.href,safeFlag:0,staticPage:location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/mid/static/user/html/v3Jump.html"},cache:!1,tangram:!0,authsite:["qzone","tsina"],authsiteCfg:{act:"implicit",display:"popup",jumpUrl:location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/mid/static/user/html/xd.html",onBindSuccess:function(t,e){var n=decodeURIComponent(e.passport_uname||e.displayname);
return bds.se.login.success(n),!1}},onLoginSuccess:function(t){t.returnValue=!1;var e=t.rsp.data.userName||t.rsp.data.mail||t.rsp.data.phoneNumber;bds.se.login.success(e)},onSubmitStart:function(){},onSubmitedErr:function(){},onSystemErr:function(){},onShow:function(){},onHide:function(){},onDestroy:function(){}})}),bds.se.loginCallbackFunc=null,bds.se.login={init:function(){this.setUserInfo();var t=this;bds.comm.loginAction.push(function(e,n){t.setUserInfo(n)})},setUserInfo:function(t){var e=t||bds.comm.user;
if(!e)return void $("#u .reg").attr("href","https://passport.baidu.com/v2/?reg&regType=1&tpl=xueshu&u="+encodeURIComponent(document.location.href));var n=$("#user");n.find(".logout").attr("href","//passport.baidu.com/?logout&tpl=xueshu&u="+encodeURIComponent(document.location.href))},open:function(t){bds.se.loginCallbackFunc=t||function(){window.document.location.reload(!0)},bds.se.passv3.show()},success:function(t){if(bds.comm){bds.comm.user=t,bds.comm.username=t,window.bdUser=t,bds.se.passv3.hide(),bds.se.loginCallbackFunc.call(window,1,t);
for(var e=0;e<bds.comm.loginAction.length;e++)bds.comm.loginAction[e].call(window,1,t)}}},bds.se.login.init(),window._invoke_login=function(t,e){bds.se.login.open(t,e)},$("#lb")&&$("#lb").click(function(){bds.se.login.open()}),bds=window.bds||{},bds.util=bds.util||{},bds.util.limitWd=function(t){var e=t.split(""),n=e.length,i=0,a=255;if(127>=n)return t;for(var o=0;n>o;o++){if(i+=e[o].charCodeAt(0)>255?2:1,i===a)return e=t.substring(0,o+1);if(i>a)return e=t.substring(0,o)}return t},bds=window.bds||{},bds.se=bds.se||{},bds.se.taskTipsDialog=function(){function t(){var t=['<div id="task-tips-dialog">','<a href="javascript:;" class="c-icon-close-hover task-dialog-close"><i class="c-icon c-icon-close"></i></a>','<div class="task-dialog-content">','<p class="dialog-title"></p>','<p class="dialog-tips"></p>','<a href="//xueshu.baidu.com/u/user?cmd=task" class="dialog-link" target="_blank">查看更多任务</a>',"</div>",'<div class="task-dialog-bg"></div>',"</div>"].join("");
return $(t).appendTo("body"),$("#task-tips-dialog")}function e(t){var e=$("#task-tips-dialog .dialog-tips"),n=$("#task-tips-dialog .dialog-title"),i=s[t.type],a=i.content,o=i.bg||"default";"userUpLevel"===t.type&&(a='恭喜达到<span class="dialog-colorful">LV.'+t.level+"</span>等级"),t.fortune&&(a+='，财富值<span class="dialog-colorful">+'+t.fortune+"</span>"),t.fame&&(a+='，经验值<span class="dialog-colorful">+'+t.fame+"</span>"),e.html(a),n.html(i.title),$("#task-tips-dialog .task-dialog-bg").removeClass().addClass("task-dialog-bg task-bg-"+o)
}function n(t){dialogTime=setTimeout(function(){$("#task-tips-dialog").fadeOut("fast")},t)}function i(){$("#task-tips-dialog").on("mouseover",function(){dialogTime&&(clearTimeout(dialogTime),dialogTime=null)}).on("mouseleave",function(){n(1e3)}),$(".task-dialog-close").on("click",function(t){clearTimeout(dialogTime),dialogTime=null,$("#task-tips-dialog").hide(),t.preventDefault()})}function a(a){if(bds.comm.taskTipsShow){var o=$("#task-tips-dialog");if(s[a.type]){o.length||(o=t(a),i()),e(a);var r=($(window).height()-o.outerHeight())/2,c=($(document).width()-o.width())/2;
r=$(window).scrollTop()+Math.max(r,10),o.css({top:r,left:c}).fadeIn(),n(2e3)}}}function o(t){1*bds.comm.isLogin===1&&bds.comm.taskTipsShow&&$.ajax({url:"//xueshu.baidu.com/usercenter/show/userinfo?cmd=update_task",dataType:"jsonp",data:{task_type:t},success:function(t){200===t.status&&(t.achievement?a(t.achievement):t.daytask&&a(t.daytask))}})}var s={firstLogin:{title:"每日首次登陆",content:"欢迎使用百度学术搜索"},firstLoginHelp:{title:"文献互助",content:"欢迎使用文献互助"},firstSimpleSearch:{title:"简单搜索",content:"每天来搜索，知识涨不停"},firstAdvancedSearch:{title:"高级搜索",content:"使用高级搜索，目标更清晰"},firstLookFavorite:{title:"查看收藏",content:"查看“我的收藏”，追溯知识储备"},firstLookSub:{title:"查看订阅",content:"查看“我的订阅”，发现新研究"},addSub:{title:'订阅论文<span class="dialog-comment">(每日上限2分)</span>',content:"欢迎使用百度学术搜索"},favoritePaper:{title:'收藏论文<span class="dialog-comment">(每日上限2分)</span>',content:"收藏关注文献，记录知识增长"},recommendKeyword:{title:"查看关键词",content:"查看关键词，了解相关研究"},recommendJournal:{title:"查看相关期刊",content:"了解同领域相关期刊"},recommendAuthor:{title:"查看相关学者",content:"查看本领域知名学者"},newLable:{title:'新建收藏标签<span class="dialog-comment">(每日上限3分)</span>',content:"为收藏论文添加标签，分类管理"},askHelpPaper:{title:'求助文献<span class="dialog-comment">(每日上限3分)</span>',content:"成功使用文献求助技能"},helpPaper:{title:'应助文献<span class="dialog-comment">(每日上限9分)</span>',content:"成功帮助他人获取文献"},userUpLevel:{title:"等级晋升",content:"恭喜达到LV.",bg:"userUpLevel"},aemLogin_1:{title:"学术新星",content:"恭喜您获得“学术新星”称号",bg:"aemLogin_1"},aemLogin_2:{title:"学术泰斗",content:"恭喜您获得“学术泰斗”称号",bg:"aemLogin_2"},aemLogin_3:{title:"学术帝",content:"恭喜您获得“学术帝”称号",bg:"aemLogin_3"},aemHelpPaper_1:{title:"文献达人",content:"恭喜您成为“文献达人”",bg:"aemHelpPaper_1"},aemFavoritePaper_1:{title:"收藏大师",content:"恭喜您成为“收藏大师”",bg:"aemFavoritePaper_1"},aemSearch_1:{title:"搜索学士",content:"恭喜您成为“搜索学士”",bg:"aemSearch_1"},aemSearch_2:{title:"搜索硕士",content:"恭喜您成为“搜索硕士”",bg:"aemSearch_2"},aemSearch_3:{title:"搜索博士",content:"恭喜您成为“搜索博士”",bg:"aemSearch_3"}};
return{taskRequest:o,showDialog:a}}(),!function(){function t(t,e){$(".menuDropList").hide(),$(".menuarrow").hide();var n=$(document).width()-t.offset().left,i=parseInt(e.css("left")),a=e.width()+10,o=a+i;if(o>n){var s=i-(o-n);e.css("left",s)}e.show(),e.siblings(".menuarrow").show(),$("#s_mod_msg").hide()}function e(t){t.hide(),t.siblings(".menuarrow").hide()}function n(n,i,a){n.on("mouseover",function(){t(n,i),a&&(clearTimeout(a),a=!1)}).on("mouseout",function(){a&&(clearTimeout(a),a=!1),a=setTimeout(function(){e(i)
},200)}),i.on("mouseover",function(){a&&(clearTimeout(a),a=!1)}).on("mouseout",function(){a&&(clearTimeout(a),a=!1),a=setTimeout(function(){e(i)},200)})}var i,a,o,s,r=$("#bdbri"),c=$("#qr"),l=$("#qrbox"),u=$("#bdbriList"),d=$("#setting"),p=$("#setMenu"),f=$("#user #userMenu"),h=$("#user");n(r,u,i),n(d,p,a),n(c,l,o),0!==h.length&&n(h,f,s);var m=0,b=$("#wrapper");$("#setpref").on("click",function(){if(!m){var t=$("<div>",{id:"prefpanel"});t.appendTo(b),$.getScript("http://s1.bdstatic.com/r/www/cache/mid/static/xueshu/js/pf_6078b3e.js"),m=1
}return $("#prefpanel").show().animate({top:"0px",opacity:.98},350),!1})}();var bds=bds||{};for(bds.se=bds.se||{},bds.se.handleyear=bds.se.handleyear||{},bds.se.handleyear=function(){function t(t,e){var n=(new Date).getFullYear(),i=0,a=0,o="";return 4===t.length?t:0===t.length||"年"===t?e?"+":"-":(o=1===t.length?"0":"",a=parseInt(t),n+="",i=parseInt(n.substr(2,2)),t=a>i?"19"+o+t:"20"+o+t)}function e(t){var e=(new Date).getFullYear();return 4===t.length?(t=parseInt(t),t>e?!0:!1):!1}function n(e,n,i){var a="",o="";
return 0!==n.length&&"年"!==n||0!==e.length&&"年"!==e?(e=t(e,!1),n=t(n,!0),"-"!==e&&"+"!==n&&parseInt(e)>parseInt(n)&&(a=e,e=n,n=a),"sc_time"===i&&("-"!==e&&(e+="0000"),"+"!==n&&(n+="9999")),o=i+"={"+e+","+n+"}"):""}return{parseInput:t,is_large:e,createFilter:n}}(),function(){function t(){var t=$(".sc_adv_input_ylo"),e=$(".sc_adv_input_yhi"),n=$.trim(t.val()),i=$.trim(e.val()),a=/^[0-9]{0,4}$/,o=n.length,s=i.length,r=!0;if("年"===n||a.test(n)&&3!==o&&!bds.se.handleyear.is_large(n)?"年"===i||a.test(i)&&3!==s||(e.focus(),e.select(),t.addClass("error"),r=!1):(t.focus(),t.select(),t.addClass("error"),r=!1),r){var c=bds.se.handleyear.createFilter(n,i,"sc_year");
return c}return!1}function e(){var t=$(".sc_adv_lang_sel a").attr("data-id"),e="";return t&&"0"!==t&&(e="sc_la={"+t+"}"),e}function n(){var n=t(),i=e();if(n===!1)return n;var a="";return(n||i)&&(a='<input type="hidden" name="filter" value="'+n+i+'">'),a}function i(t){return t.split(/,|，/)}function a(t){for(var e=i(t),n="",a=0,o=e.length;o>a;a++)0!==a&&(n+=" "),n+="&quot;"+e[a]+"&quot;";return n}function o(){for(var t,e=u.length,n="",o="",s="",r="",c="",l=$(u[0]).attr("data-name"),d=0;e>d;d++)if(t=$(u[d]),n=$.trim(t.val()),o=t.attr("placeholder"),n&&n!==o)switch(0!==d&&(s+=" "),r=t.attr("data-type")){case"all":s+=n;
break;case"precise":s+=a(n);break;case"or":c=i(n),s+="("+c.join(" | ")+")";break;case"not":c=i(n),s+="-("+c.join(" | ")+")"}return""===s?"":(""!==l&&(s=l+":("+s+")"),s+" ")}function s(t){return t=t.replace(/\"/g,"&quot;"),t=t.replace(/\'/g,"&quot;"),t=t.replace(/\</g,"&lt;"),t=t.replace(/\>/g,"&gt;")}function r(){}var c=$(".sc_adv_dropdown_btn"),l=$(".sc_adv_dropdown_group"),u=$(".sc_adv_keyword_ipt"),d=$("#sc_adv"),p=$(".sc_adv_triangle_down"),f=p.find(".c-icon"),h=$(".sc_adv_sub_btn"),m=$("#sc_adv_frm");
c.on("click",function(){return $(this).find(".sc_adv_dropdown_group").toggle(),!1}),$(".sc_adv_dropgroup_title").on("click","a",function(t){var e=$(this),n=e.parents(".sc_adv_dropdown_group"),i=n.siblings(".sc_adv_dropdown_text"),a=i.find("a");e.appendTo(i),a.appendTo(n),$(".sc_adv_keyword_ipt").attr("data-name",e.attr("data-name")),t.preventDefault()}),$(".sc_adv_dropgroup_pub").on("click","a",function(t){var e=$(this),n=e.parents(".sc_adv_dropdown_group"),i=n.siblings(".sc_adv_dropdown_text"),a=i.find("a"),o=$(".sc_adv_pubipt");
e.appendTo(i),a.appendTo(n),o.attr("data-name",e.attr("data-name"));var s=o.attr("placeholder"),r=e.attr("data-holder");s===o.val()&&o.val(r),o.attr("placeholder",r),t.preventDefault()}),$(".sc_adv_dropgroup_lang").on("click","a",function(t){var e=$(this),n=e.parents(".sc_adv_dropdown_group"),i=n.siblings(".sc_adv_dropdown_text");i.html(e.clone()),e.addClass("sc_adv_lang_hide").siblings(".sc_adv_lang_hide").removeClass("sc_adv_lang_hide"),t.preventDefault()}),p.on("click",function(t){return d.toggle(),l.hide(),f.hasClass("c-icon-triangle-down")?f.removeClass("c-icon-triangle-down").addClass("c-icon-triangle-up"):f.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down"),ns_c_xs({fm:"beha",button_tp:"adv_btn"}),bds.comm.resultSug&&bds.comm.resultSug.hide(),t.stopPropagation(),!1
}),h.on("click",function(t){var e,i,a=$(".sc_adv_txin"),r="",c="",l="";c=o();for(var d=0,p=a.length;p>d;d++)e=$(a[d]),r=e.val(),l=e.attr("placeholder"),name=e.attr("data-name"),r&&r!==l&&(c+=name+":("+r+") ");return c=$.trim(c),""!=c?(c=bds.util.limitWd(c),c=s(c),$(".sc_adv_wd_hidden").html('<input type="hidden" name="wd" value="'+c+'">'),i=n(),i!==!1&&(""!==i&&$(i).appendTo($("#sc_adv_frm")),m.submit(),ns_c_xs({fm:"advse",button_tp:"adv_search"}))):$(u[0]).addClass("error").focus(),t.preventDefault(),!1
}),d.on("click",function(t){l.hide(),t.stopPropagation()}),$(document).on("click",function(){d.hide(),f.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down")}),$("#sc_adv_frm .c-input").on("click",function(){var t=$(this);t.hasClass("sc_adv_input_ylo")||t.hasClass("sc_adv_input_yhi")?$(this).removeClass("error"):$(u[0]).removeClass("error")}),$("#kw").on("click",function(){d.hide(),f.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down")}),r()}(),!function(){function t(t){this.sugcontainer=null,this.timer=null,this.visible=!1,this.sugCount=t.sugCount||10,this.ipt=t.ipt||$("#kw")[0],this.form=t.form||$("#form")[0],this.submission=t.submission||null,this.index=-1,this.query=this.ipt&&this.ipt.value||"",this.value=this.query,this.showValue=this.query,this.reqValue="",this.inputValue=this.query,this.sugValue="",this.init()
}bds.se.sug=function(e){var e=e||{},n=new t(e);return n.outInterface()},t.prototype={init:function(){var t=this;t.initSug(),t.addEvent(),t.clearStat()},render:function(t){function e(t,e){return e&&t&&(t=$.trim(t),e=$.trim(e),t=0==t.indexOf(e)&&t!==e?n(t,e):i(t)),t}function n(t,e){t=i(t),e=i(e);var n=e,a=e.length,o="<b>"+t.substring(a)+"</b>";return n+o}function i(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;")}var a="",o=this,s=o.ipt.value;a+="<ul>";for(var r=0;r<o.sugCount;r++)t[r]&&(a+='<li data-query="'+t[r]+'" data-index="'+r+'">',a+=e(t[r],s),a+="</li>");
a+="</ul>",$(".sug-container").length||o.initSug(),o.sugcontainer.html(a),o.showSug()},request:function(t){var e=this;if(e.reqValue=t,""!==t){if(bds&&bds.util&&bds.util.domain&&bds.util.domain.get)var n=bds.util.domain.get("http://nssug.baidu.com/");else var n="http://nssug.baidu.com/";$.ajax({dataType:"jsonp",async:!0,url:n+"su?wd="+t+"&prod=xueshu&json=1&ie=utf-8",jsonp:"cb",timeout:5e3,success:function(t){t.s&&0!==t.s.length&&e.render(t.s)}})}},startCircle:function(){var t=this;t.timer||(t.timer=setTimeout(function(){t.value!=t.ipt.value&&t.showValue!=t.ipt.value&&(t.inputValue=t.showValue=t.value=t.ipt.value,t.request(t.value)),t.timer=setTimeout(arguments.callee,200)
},200))},stopCircle:function(){var t=this;t.timer&&(clearTimeout(t.timer),t.timer=null)},hideSug:function(){this.sugcontainer.hide(),this.visible=!1},showSug:function(){var t=this;t.index=-1,t.ipt.value===t.reqValue&&""!==t.ipt.value?t.sugcontainer.find("li").length&&t.sugcontainer.show():t.request(t.ipt.value),t.visible=!0},selectSug:function(t){var e=this,n=e.sugcontainer.find("li");e.blurSug(n);var i=$($(n)[t]),a=i.attr("data-query");-1!=t?(e.focusSug(i,a),e.sugValue=e.showValue=e.value=e.ipt.value=a,e.addStat("rsv_n",1)):(e.showValue=e.value=e.ipt.value=e.inputValue,e.sugValue="",e.removeStat("rsv_n"))
},blurSug:function(t){t.removeClass("sug-s")},focusSug:function(t){t.addClass("sug-s")},pressUp:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index--,t.index<-1&&(t.index=e-1),t.selectSug(t.index)}},pressDown:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index++,t.index>=e&&(t.index=-1),t.selectSug(t.index)}},initSug:function(){this.sugcontainer=$(".sug-container"),this.sugcontainer.length||(this.sugcontainer=$('<div class="sug-container"></div>'),this.sugcontainer.appendTo($(this.form)))
},addStat:function(t,e){var n=this,i=$(n.form).find('input[type="hidden"][name="'+t+'"]');i.length?$(i).val(e):$(n.form).append('<input type="hidden" name="'+t+'" value="'+e+'"/>')},removeStat:function(t){var e=this;$(e.form).find('input[type="hidden"][name="'+t+'"]').remove()},clearStat:function(){var t=this;t.removeStat("rsp"),t.removeStat("rsv_n")},formSubmit:function(t){var e=this,n=!0;-1!==e.index&&(e.addStat("f",3),e.addStat("rsp",e.index)),$.isFunction(e.submission)&&(n=e.submission.call(e.form,t)),n&&e.form.submit()
},addEvent:function(){var t=this;$(t.ipt).on("focus",function(){t.startCircle()}).on("click",function(e){t.showSug(),e.stopPropagation()}).on("keydown",function(e){e=e||window.event,38==e.keyCode&&(e.preventDefault(),t.pressUp()),40==e.keyCode&&(e.preventDefault(),t.pressDown()),(9==e.keyCode||27==e.keyCode)&&t.hideSug(),8==e.keyCode&&setTimeout(function(){""===t.ipt.value&&t.hideSug()},100),13==e.keyCode&&(t.hideSug(),t.addStat("rsv_sug2",0)),86==e.keyCode&&e.ctrlKey&&t.addStat("rsv_n",2)}),t.sugcontainer.on("mouseenter","li",function(){var e=$(this).attr("data-query");
t.blurSug(t.sugcontainer.find("li")),t.focusSug($(this),e),t.index=1*$(this).attr("data-index")}).on("mouseleave","li",function(){$(this).removeClass("sug-s")}).on("click","li",function(){var e=$(this).attr("data-query");t.sugValue=t.showValue=t.value=t.ipt.value=e,t.hideSug(),t.addStat("rsv_sug2",1),t.formSubmit()}),$(window).on("blur",function(){t.hideSug()}),$(document).on("click",function(){t.hideSug(),t.ipt.blur()}),t.form&&$(t.form).submit(function(e){return t.formSubmit(e),!1})},outInterface:function(){var t=this;
return{setKey:function(e){t.ipt.value=t.value=t.inputValue=t.showValue=e},visible:function(){return t.visible},show:function(){return t.showSug()},hide:function(){return t.hideSug()},start:function(){return t.startCircle()},stop:function(){return t.stopCircle()},formSubmit:function(){return t.formSubmit()}}}}}(),!function(){if(!bds.comm.username||$("#imsg").length||$("#msimsg").length||$("#ucimsg").length){var t=0,e=1,n=null;bds.comm.ishome?(t=0,e=1,n=$("#platform_menu .newmsgicon")):(t=1,e=0,n=$("#tnav_r_menu .newmsgicon")),$.ajax({url:"http://s1.bdstatic.com/r/www/cache/mid/static/xueshu_mt/js/message_2_a5a5dc2.js",dataType:"script",cache:!0,success:function(){var i=$("#s_mod_msg");
bds.se.message&&bds.se.message.init&&bds.se.message.init({container:i,msgbtn:$("#imsg"),ucMsgbtn:$("#ucimsg"),msMsgbtn:$("#msimsg"),isResPage:1,hasborder:t,initShow:e,msgGetCb:function(t){t&&t.length&&n.css("display","inline-block")},msgCleanCb:function(){n.hide()}}),$("#user").on("mouseover",function(){$("#s_mod_msg").hide()}),i.on("mousedown",function(t){var e,n,a=t.target,o={},s=0;do{if(n=a.getAttribute("data-click"))try{n=new Function("return "+n)();for(e in n)o[e]=n[e];s=1}catch(t){}a=a.parentNode
}while(a&&a!==i[0]);s&&(o.fm="behs",o.tab="imsg",ns_c_xs(o))})}})}}(),!function(){var t=/sc_tasktype={(.*)}/,e=bds.comm.sc_f_para,n=null,i="";e&&(n=e.match(t),n&&n[1]&&(i=n[1],bds.se.taskTipsDialog.taskRequest(i))),bds.comm.ishome&&bds.se.taskTipsDialog.taskRequest("firstLogin")}(),!function(){var t=0;$(window).on("scroll",function(){$(window).scrollTop()<t&&$(window).scrollTop()>0?($("#head_wr").addClass("scroll_head").width($("#wrapper").width()),$("#container").css("padding-top",$("#container").css("padding-top")+$("#head_wr").height())):($(window).scrollTop()>t||0==$(window).scrollTop())&&($("#head_wr").removeClass("scroll_head").width("100%"),$("#container").css("padding-top",$("#container").css("padding-top")-$("#head_wr").height())),Math.abs(t-$(window).scrollTop())>50&&(t=$(window).scrollTop()),"fixed"==$("#head_wr").css("position")&&$("#head_wr").css("left",-$(this).scrollLeft()+"px")
})}(),i=0;3>i;i++)u($($(".s_ipt_wr")[i]),$($(".s_ipt")[i]),$($(".s_btn_wr")[i]),$($(".s_btn")[i]));!function(){function t(){return"placeholder"in document.createElement("input")}t()||$("input[placeholder]").focus(function(){var t=$(this);t.val()==t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){var t=$(this);(""==t.val()||t.val()==t.attr("placeholder"))&&(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur(),$("#tnav_l").height(Math.max(document.body.scrollHeight,document.documentElement.clientHeight,document.body.clientHeight))
}(),bds.comm.resultSug=bds.se.sug({submission:form_submit}),bds.comm.ishome&&bds.comm.resultSug.start(),setFoot(),$(window).on("resize",function(t){t.preventDefault(),setFoot()});var bds=bds||{};bds.se=bds.se||{},bds.se.handleyear=bds.se.handleyear||{},bds.se.handleyear=function(){function t(t,e){var n=(new Date).getFullYear(),i=0,a=0,o="";return 4===t.length?t:0===t.length||"年"===t?e?"+":"-":(o=1===t.length?"0":"",a=parseInt(t),n+="",i=parseInt(n.substr(2,2)),t=a>i?"19"+o+t:"20"+o+t)}function e(t){var e=(new Date).getFullYear();
return 4===t.length?(t=parseInt(t),t>e?!0:!1):!1}function n(e,n,i){var a="",o="";return 0!==n.length&&"年"!==n||0!==e.length&&"年"!==e?(e=t(e,!1),n=t(n,!0),"-"!==e&&"+"!==n&&parseInt(e)>parseInt(n)&&(a=e,e=n,n=a),"sc_time"===i&&("-"!==e&&(e+="0000"),"+"!==n&&(n+="9999")),o=i+"={"+e+","+n+"}"):""}return{parseInput:t,is_large:e,createFilter:n}}(),function(){var t=$(".leftnav_t"),e=$(".leftnav_list_show"),n=$(".leftnav_showmore"),i=$(".leftnav_hidemore"),a=$(".filter-school-tips"),o="SC_PKU",s=bds.se.cookie.get(o);
t.on("click",function(t){var e=$(this),n=e.siblings(".leftnav_list"),i=e.find(".c-icon"),a=n.children(".leftnav_list_cont"),o=a.outerHeight();return e.hasClass("disable")?void t.preventDefault():(n.hasClass("leftnav_list_show")?(n.css("height","0"),n.removeClass("leftnav_list_show"),i.removeClass("c-icon-arrow-up-gray").addClass("c-icon-arrow-down-gray")):(n.css("height",o),n.addClass("leftnav_list_show"),i.removeClass("c-icon-arrow-down-gray").addClass("c-icon-arrow-up-gray")),void t.preventDefault())
}),n.on("click",function(){var t=$(this),e=t.parents(".leftnav_list"),n=e.children(".leftnav_list_cont");e.removeClass("left_list_short").addClass("left_list_long"),e.css("height",n.outerHeight()),$(this).parents(".leftnav_item").siblings().find(".leftnav_hidemore").trigger("click")}),i.on("click",function(){var t=$(this),e=t.parents(".leftnav_list"),n=e.children(".leftnav_list_cont");e.removeClass("left_list_long").addClass("left_list_short"),e.css("height",n.outerHeight())}),e.each(function(){var t=$(this);
t.height(t.find(".leftnav_list_cont").outerHeight())}),a.length&&($(".filter-school-logo").on("mouseover",function(t){a.fadeIn("fast"),t.preventDefault()}).on("mouseout",function(t){a.hide(),t.preventDefault()}),s||(setTimeout(function(){a.fadeIn()},300),setTimeout(function(){a.fadeOut("fast"),bds.se.cookie.set(o,"1",{expires:31536e6})},2300))),function(){var t=$(".leftnav_year_fm"),e=$(".leftnav_input_sub"),n=$("#leftnav_input_ylo"),i=$("#leftnav_input_yhi"),a=$(".leftnav_year_para");e.on("click",function(e){var o=$.trim(n.val()),s=$.trim(i.val()),r=/^[0-9]{0,4}$/,c=!0,l=o.length,u=s.length;
if("年"===o||r.test(o)&&3!==l&&!bds.se.handleyear.is_large(o)?"年"===s||r.test(s)&&3!==u?0!==s.length&&"年"!==s||0!==o.length&&"年"!==o||(n.focus(),n.select(),c=!1):(i.focus(),i.select(),c=!1):(n.focus(),n.select(),c=!1),c){var d="",p="";p+=a.attr("data-type")+a.attr("data-cate")+a.attr("data-level"),p+=bds.se.handleyear.createFilter(o,s,"sc_year"),d='<input type="hidden" name="filter" value="'+p+'">',a.html(d),t.submit()}e.preventDefault()})}()}(),bds=window.bds||{},bds.se=bds.se||{},bds.se.quote=function(){function t(t){t=t||{},h||(h=1,n(),e(),m=$.extend(m,t),i())
}function e(){$("#"+m.cssId).length||$('<style id="'+m.cssId+'">'+b+"</style>").appendTo($("head"))}function n(){$(g).appendTo($("body")),w=$("#sc_quote_wr"),y=$("#sc_quote_bg"),x=$(".sc_quote_content")}function i(){w.on("click",".sc_quote_list_item_r",function(){var t=$(this);t.focus(),a(t.attr("id"))}),w.on("click",".sc_quote_list_item_l",function(){var t=$(this),e=t.siblings(".sc_quote_list_item_r"),n=e.attr("id");e.focus(),a(n)}),w.on("click",".sc_md_cls",function(t){p(),t.preventDefault()}),y.on("click",function(t){p(),t.stopPropagation()
}),m.needLog&&w.on("mousedown",".sc_quote_citi a",function(){var t=$(this);o(t.attr("data-type"))}),m.eventBtnClass&&$("body").on("click",m.eventBtnClass,function(){return m.eventFn($(this)),_hmt&&_hmt.push(["_trackPageview","/virtual/quote"]),!1})}function a(t){T(t),o($("#"+t).attr("data-type"))}function o(t){m.needLog&&m.logFuc(t)}function s(t){0===t.errno?u(t):d();var e=0,n=0,i=$(window).height(),a=navigator.userAgent,o=/MSIE (\d+).*/,s=a.match(o);e=s&&parseInt(s[1])<8?(i-220)/2:(i-w.outerHeight())/2,e>300&&(e-=100),n=$(window).scrollTop()+Math.max(e,10),w.css({top:n,left:($(document).width()-580)/2,display:"block"});
var r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),c=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth);y.css({height:r,width:c}).show(),$("#sc_quote_wr #sc_cit0").click()}function r(t){return t=t.replace(/#i\{/g,"<i>"),t=t.replace(/\}/g,"</i>")}function c(t){var e=["<p>复制并粘贴一种已设定好的引用格式，或利用其中一个链接导入到文献管理软件中。</p>",'<div class="sc_quote_list">','<div class="sc_quote_list_item">','<div class="sc_quote_list_item_l">GB/T 7714</div>','<div class="sc_quote_list_item_r" data-type="GB/T" tabindex="0" id="sc_cit0">'+r(t.sc_GBT7714)+"</div>","</div>",'<div class="sc_quote_list_item">','<div class="sc_quote_list_item_l">MLA</div>','<div class="sc_quote_list_item_r" data-type="MLA" tabindex="0" id="sc_cit1">'+r(t.sc_MLA)+"</div>","</div>",'<div class="sc_quote_list_item">','<div class="sc_quote_list_item_l">APA</div>','<div class="sc_quote_list_item_r" data-type="APA" tabindex="0" id="sc_cit2">'+r(t.sc_APA)+"</div>","</div>","</div>"].join("");
return e}function l(t){var e="",n="",i="",a=["bib","enw","ris","txt","net"],o=["BibTeX","EndNote","RefMan","NoteFirst","NoteExpress"];e=m.reqUrl+"&url="+encodeURIComponent(t.request.url)+"&sign="+t.request.sign+"&diversion="+k;for(var s=0,r=a.length;r>s;s++)i=e+"&t="+a[s],n+='<a href="'+i+'" target="_blank" data-type="'+o[s]+'">'+o[s]+"</a>";var c=['<div class="sc_quote_citi">','<span class="sc_quote_citi_tip">导入链接</span>',n,"</div>"].join("");return c}function u(t){var e="";e=c(t),e+=l(t),x.html(e)
}function d(){x.html(v)}function p(){w.hide(),y.hide()}function f(t){t.t="cite",k=t.diversion,x&&(x.html(_),$.ajax({url:m.reqUrl,data:t,dataType:"jsonp",timeout:3e3,success:function(){},complete:function(t,e){s("success"===e?t.responseJSON:{errno:-1})}}))}var h=0,m={needLog:0,logFuc:function(){},eventBtnClass:"",eventFn:function(){},cssId:"quote_css_style",reqUrl:"//xueshu.baidu.com/u/citation?"},b=["#sc_quote_bg{display: none;background:#666;z-index:990;opacity:.5;filter:alpha(opacity=50);filter:alpha(opacity=50);position:absolute;top:0;left:0;width:100%;height:100%}","#sc_quote_wr{display:none;color:#000;position:absolute;z-index:999;width:580px;padding:18px 0 30px 0;background:#fff;box-shadow:2px 2px 8px rgba(0,0,0,0.65);-moz-box-shadow:2px 2px 8px rgba(0,0,0,0.65);-webkit-box-shadow:2px 2px 8px rgba(0,0,0,0.65);-ms-box-shadow:2px 2px 8px rgba(0,0,0,0.65)}","#sc_quote_wr .sc_quote_top{margin:0 20px}","#sc_quote_wr .sc_md_cls{float:right}","#sc_quote_wr .sc_quote_title,.sc_savelink_title{font-size:14px;font-weight:bold;width:100px;height:20px}","#sc_quote_wr .sc_quote_content{margin:13px 40px 0}","#sc_quote_wr .sc_quote_list_item_r i{position:relative;font-style:italic;}","#sc_quote_wr .sc_quote_list_item{*zoom:1;clear:both;border-top:1px solid #e6e6e6;padding:10px 0;line-height:1.24em;height:auto;overflow:hidden}","#sc_quote_wr .sc_quote_list_item_l{float:left;color:#666;width:63px;text-align:right;margin-right:12px}","#sc_quote_wr .sc_quote_list_item_r{float:left;width:423px}","#sc_quote_wr .sc_quote_list{margin-top:10px}","#sc_quote_wr .sc_quote_citi{border-top:1px solid #e6e6e6;padding-top:13px;color:#666}","#sc_quote_wr .sc_quote_citi a{margin-right:10px;white-space:nowrap;line-height:21px;text-decoration:none;color:#005cd9}","#sc_quote_wr .sc_quote_citi a:hover{text-decoration:underline;}","#sc_quote_wr .sc_quote_citi_tip{padding:0 12px}","#sc_quote_wr .sc_quote_loading,.sc_quote_error{height:100px;line-height:100px;margin-left:40px;color:#505961}"].join(""),g=['<div id="sc_quote_bg"></div>','<div id="sc_quote_wr">','<div class="sc_quote_top">','<a href="javascript:;" class="sc_md_cls c-icon-close-hover"><i class="c-icon c-icon-close"></i></a>','<h3 class="sc_quote_title">引用</h3>',"</div>",'<div class="sc_quote_content">',"</div>","</div>"].join(""),_='<div class="sc_quote_loading">数据加载中...</div>',v='<div class="sc_quote_error">抱歉，获取数据失败</div>',w=null,y=null,x=null,k=null,T=window.getSelection?function(t){getSelection().selectAllChildren(document.getElementById(t))
}:function(t){try{var e=document.body.createTextRange();e.moveToElementText(document.getElementById(t)),e.select()}catch(n){}};return{init:t,show:f,hide:p}}(),A.uiPrefix="//www.baidu.com/cache/aladdin/ui/",function(){var t=window.bds.aladdin;"undefined"!=typeof baidu&&(t.baidu=baidu);var e=t._Aladdin.fixs=[],n={},i=0,a=function(t){t.ajaxId=++i,n[t.ajaxId]=t},o=function(t){delete n[t.ajaxId]},s=function(t){return t.ajaxId?n.hasOwnProperty(t.ajaxId):!1};t.addDisposeHandler({obj:n,fn:function(){for(var t in n)n.hasOwnProperty(t)&&delete n[t]
}}),$.extend(t._Aladdin.prototype,{q:function(t,e){return e=e||"",$(this.container).find(e+"."+t).get()},qq:function(t,e){return this.q(t,e)[0]},find:function(t){return window.jQuery(t,this.container)},ready:function(){$(document).ready.apply(this,arguments)},ajax:function(e,n,i){var r=t.AJAX,c=+new Date,l=i.params||{},u={query:e,co:i.co||"",resource_id:n,t:c};$.extend(u,r.PARAMS),$.extend(u,l);var e=$.param(u),d=r.API_URL+"?"+e,p=function(){var e=new Image;e.src=$.format(r.ERR_URL,{url:d}),t.logs.push(e)
},f=(new Date).getTime(),h=function(t){var e=(new Date).getTime()-f,i={fm:"opendataajax",srcid:n,time:e,status:t};ns_c(i)},m=function(t){s(m)&&(g(),0==t.status?i.success(t.data):(i.error&&i.error(t.status),p()),h(0))},b=function(){s(b)&&(g(),i.timeout&&i.timeout(),p(),h(1))},g=function(){o(m),o(b)};a(m),a(b),$.ajax({url:d,scriptCharset:r.PARAMS.oe,timeout:r.TIMEOUT,dataType:"jsonp",jsonp:"cb",success:m,error:b})}}),t.AJAX={API_URL:"http://opendata.baidu.com/api.php",ERR_URL:"http://open.baidu.com/stat/al_e.gif?ajax_err_url=#{url}",PARAMS:{ie:"utf8",oe:"gbk",cb:"op_aladdin_callback",format:"json",tn:"baidu"},TIMEOUT:6e3},e.push(function(t){var e=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0;
if(e){var n=document.charset;$.each(t.container.getElementsByTagName("form"),function(t,e){var i=function(){var t=e.acceptCharset;t&&"UNKNOWN"!=t.toString().toUpperCase()&&t!=document.charset&&(document.charset=t,setTimeout(function(){document.charset=n},1e3))};$(e).on("submit",i);var a=e.submit;e.submit=function(){i();try{a.call(e)}catch(t){a()}}})}})}(),function(){function t(o,s){var r="string"==typeof o?o.split(/\s*,\s*/):o;if(r.length>1)if(s)t(r.shift(),function(){r.length>0&&t(r,s)});else for(;r.length;)t(r.shift());
else{if(o=r[0],"jquery"===o&&window.jQuery)return!a.ui.jquery&&(a.ui.jquery=window.jQuery),void(s&&s());var c=o.replace(/\./g,"/"),l=o.replace(/^[\s\S]*\./,""),u=a.uiPrefix+c+"/"+l;0==c.search("style/")?e(u+".css",s):(u+=".js",p.hasOwnProperty(o)?"function"==typeof p[o]?u=p[o](o,u):"string"==typeof p[o]&&(u=p[o]):p.hasOwnProperty("*")&&(u=p["*"](o,u)),s?i(u,s):n(u))}}function e(t,e){if(e=e||d,t in o)return void e();var n=c.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t,n.setAttribute("data-for","A.ui"),l.appendChild(n),o[t]=1,e()
}function n(t){return u?void i(t,d):void(t in o||(c.write('<script charset="gb2312" type="text/javascript" src="'+t+'"></script>'),o[t]=1))}function i(t,e){if(e=e||d,t in o)return void e();if(t in s)return void r[t].push(e);s[t]=1;var n=r[t]=[e],i=c.createElement("script");i.type="text/javascript",i.charset="gb2312",i.onload=i.onreadystatechange=function(){if(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState){for(;n.length;)n.shift()();delete s[t],o[t]=1,i.onload=i.onreadystatechange=null
}},i.src=t,i.setAttribute("data-for","A.ui"),l.insertBefore(i,l.firstChild)}var a=window.A,o={},s={},r={},c=document,l=c.getElementsByTagName("head")[0],u=!1,d=(a.baidu,function(){}),p={"*":function(t,e){return e+"?v=2014010100"},scrollbarv:function(t,e){return e+"?v=20140121"},likeshare4:function(t,e){return e+"?v=20140116"},mboxsingleton:function(t,e){return e+"?v=20140116"},sms:function(t,e){return e+"?v=20140507"},tab:function(t,e){return e+"?v=20140117"},tabs:function(t,e){return e+"?v=20140116"
},musicplayer:function(t,e){return e+"?v=20140123"},slider:function(t,e){return e+"?v=20140123"},suggestion:function(t,e){return e+"?v=20140123"},tabs5:function(t,e){return e+"?v=20140827"},tabx:function(t,e){return e+"?v=20140117"},dropdown1:function(t,e){return e+"?v=20140117"},dropdown21:function(t,e){return e+"?v=20140227"},advert:function(t,e){return e+"?v=20140523"},honourCard:function(t,e){return e+"?v=20140711"},share:function(t,e){return e+"?v=20140319"},qHotCity:function(t,e){return e+"?v=20140806"
},ALD_feedback:function(t,e){return e+"?v=20140827"}};$(document).ready(function(){u=!0}),a.addDisposeHandler({obj:a,fn:function(){for(var t in r)if(r.hasOwnProperty(t))for(var e=r[t];e.length;)e.pop()}}),t.cache=o,a.uicss=function(t){e(a.uiPrefix+t)},a.uijs=function(t,e){i(a.uiPrefix+t,e)},a.uijsPathMap=function(t){$.extend(p,t)},a.use=t,a.ui=a.ui||{},a.addCssText=function(t){var e="opui-style-tag-id",n="data-for",i="A.ui",a=document.getElementById(e);a||(a=document.createElement("style"),a.setAttribute("type","text/css"),a.setAttribute(n,i),a.id=e,document.getElementsByTagName("head")[0].appendChild(a));
try{var o=document.createTextNode(t);a.appendChild(o)}catch(s){a.styleSheet&&(a.styleSheet.cssText+=t)}}}(),$(window).scroll(function(){var t,e=$("#head_wr"),n=$(window),i=50,a=e.offset().top,o=function(){t&&(clearTimeout(t),t=!1),t=setTimeout(function(){var o=n.scrollTop();o>i+a?t=setTimeout(function(){e.addClass("s_down")},0):i+a>=o&&(t=setTimeout(function(){e.removeClass("s_down")},0))},50)};return o}()),bds.util.showDialog=function(t,e,n){var i="",a="",o=$(".subsDialog");if(200==t?(i=e||"操作成功",a="c-icon-ok"):(i=e||"操作失败",a="c-icon-fail"),o.length)o.find(".texttip").text(i),o.find(".c-icon").removeClass("c-icon-ok c-icon-fail").addClass(a);
else{var s=['<div class="subsDialog">','<i class="c-icon '+a+'"></i>','<span class="texttip">'+i+"</span>","</div>"].join("");$(s).appendTo("body"),o=$(".subsDialog"),o.css({height:"42px",padding:"0 20px",color:"#69c","font-size":"14px","line-height":"42px","text-align":"center",border:"1px solid #ccc","background-color":"#fff",position:"absolute",display:"none","z-index":"1001"}),o.find(".texttip").css({"padding-left":"6px",_zoom:1}),o.find(".c-icon").css({_display:"none"})}n?o.css({top:n.top||Math.floor(($(window).height()-o.outerHeight())/2+$(window).scrollTop()),left:Math.floor(n.left?n.left-o.outerWidth()/2:($(window).width()-o.outerWidth())/2)}).fadeIn():o.css({top:Math.floor(($(window).height()-o.outerHeight())/2+$(window).scrollTop()),left:Math.floor(($(window).width()-o.outerWidth())/2)}).fadeIn(),setTimeout(function(){o.fadeOut()
},1e3)};var bds=bds||{};bds.se=bds.se||{},bds.se.collect=function(){function t(){r(),o()}function e(t,e){$.ajax({url:"//xueshu.baidu.com/usercenter/data/collect?cmd="+t.cmd,dataType:"jsonp",data:t.data,timeout:1e3,success:function(n){e&&e(n),200==n.status?t.success&&t.success(n):t.error&&t.error()},complete:function(e,n){"success"!==n&&t.error&&t.error()}})}function n(t,e){setTimeout(function(){e&&(t.find("span").html("已收藏"),t.addClass("collected").attr("title","已收藏"),t.attr({href:m+"&paper_id="+e,"data-click":'{"button_tp":"view_collect"}'}))
},150)}function i(t){setTimeout(function(){t.find("span").html("收藏失败")},150)}function a(t){var e="",n=navigator.userAgent,i=/MSIE (\d+).*/,a=n.match(i);e=a&&parseInt(a[1])<9?"收藏中...":['<span class="spinner">','<span class="bounce1"></span>','<span class="bounce2"></span>','<span class="bounce3"></span>',"</span>"].join(""),t.find("span").html(e)}function o(){l.on("click",function(t){var o=$(this),s=o.parents(".sc_default_result,#dtl_l").find(".reqdata").attr("diversion"),r=o.attr("data-url");if(!o.hasClass("collected")&&!o.find(".spinner").length){if(1*bds.comm.isLogin!==1)return bds.se.login.open(),void t.preventDefault();
e({cmd:"add_paper",data:{paper_url:r,diversion:s},success:function(t){n(o,t.data.id),t.achievement?bds.se.taskTipsDialog.showDialog(t.achievement):t.daytask&&bds.se.taskTipsDialog.showDialog(t.daytask)},error:function(){i(o)}}),a(o),t.preventDefault()}}),$(window).on("scroll",function(){if(c){var t=$(c).offset().top,e=document.body.scrollTop||document.documentElement.scrollTop,n=window.screen.availHeight;e+n>=t-100&&r()}})}function s(t){var e,i="",a=t.data;if(a)for(var o=0,s=d.length;s>o;o++)e=$(d[o]),i=e.attr("data-urlmd"),a[i]&&n(e,a[i].favorite_papers_id),e.show()
}function r(){if(1*bds.comm.isLogin===1){var t,n=[];if(!(f>h)){var i=(f-1)*p,a=f*p;a>u&&(a=u),d=[];for(var o=i;a>o;o++)t=l[o],t&&(n.push($(t).attr("data-url")),d.push(t));e({cmd:"judge_papers",data:{paper_urls:n},success:function(t){s(t)}},function(){c=d[d.length-1],f+=1})}}}var c,l=$(".sc_collect"),u=l.length,d=[],p=10,f=1,h=Math.ceil(u/p),m="//xueshu.baidu.com/usercenter?tab=collect";return{init:t,getCollectInfo:r}}(),bds.se.collect.init(),!function(){function t(){i()}function e(t){$.ajax({url:u,dataType:"jsonp",data:t.data,success:function(e){200==e.status?t.success&&t.success(e):t.error&&t.error(e.status)
},error:function(){t.error&&t.error(500)}})}function n(){$("#head_wr").on("mousedown","#addSubsBtn",function(){var t="";t="1"===$(this).attr("data-add")?"view_subs":"add_subs",ns_c_xs({fm:"beha",button_tp:t})})}function i(){e({data:{cmd:"isRemind",query:bds.comm.query},success:function(t){a(t),n()}})}function a(t){var e=t.data.toLowerCase(),n="";"yes"===e?(n='<a href="'+l+'" target="_blank" id="addSubsBtn" data-add="">订阅</a>',$(n).appendTo($(".s_form_wr")),s(),c(),ns_c_xs({fm:"beha",button_tp:"add_subs_show"})):"exists"===e&&(n='<a href="'+l+"&tag_id="+t.tag_id+'" target="_blank" id="addSubsBtn" data-add="1" data-id="">查看该订阅</a>',$(n).appendTo($(".s_form_wr")),ns_c_xs({fm:"beha",button_tp:"view_subs_show"}))
}function o(t){var e=$("#addSubsBtn"),n=e.attr("href")+"&tag_id="+t.data.id;e.attr("data-add","1").text("查看该订阅"),e.attr("href",n),ns_c_xs({fm:"beha",button_tp:"view_subs_show"})}function s(){$("#head_wr").on("click","#addSubsBtn",function(t){"1"!==$(this).attr("data-add")&&(1*bds.comm.isLogin===1?r():bds.se.login.open(),t.preventDefault())})}function r(){bds&&bds.se&&bds.se.subscribe?bds.se.subscribe.init({query:bds.comm.query,isResultPage:1,reqSuccess:function(t){200===t.status?(o(t),bds.util.showDialog(t.status),t.achievement?bds.se.taskTipsDialog.showDialog(t.achievement):t.daytask&&bds.se.taskTipsDialog.showDialog(t.daytask)):bds.util.showDialog(500)
},reqError:function(){bds.util.showDialog(500)}}):c(r)}function c(t){$.ajax({url:"//xueshu.baidu.com/lib/static/scholar/cache/subscribe/subscribe_1.1_ada4cc9.js",dataType:"script",success:function(){t&&t()}})}var l="//xueshu.baidu.com/usercenter?tab=subscribe",u="//xueshu.baidu.com/usercenter/data/Searchsubscription";t()}(),!function(){function t(t){for(var e=t.siblings(".sc_savalink_content"),n=e.find(".sc_savelink_item"),i=n.length,a=null,s="",r="",c="",l="",u=0,d=0,p="",f="",h="",m="",b="",g=0;i>g;g++){a=$(n[g]),u=a.attr("data-type")||"",d=a.attr("data-libbuy"),s=a.find(".savesize").text(),r=a.find(".saveurl").text(),c=a.find(".saveanchor").text(),l=a.find(".savefree").text(),"pdf"===u?(h="c-icon-pdf",b="点击下载"):(h="c-icon-link",b="点击前往"),s||(s="未知大小"),g===i-1&&(m="border:none;");
var _="{'title':'"+c+"', 'libbuy':'"+d+"'}";f=['<a href="'+r+'" target="_blank" data-click="'+_+'" class="sc_savelink_item" style="'+m+'">','<span class="savelink_icon"><i class="c-icon '+h+'"></i></span>','<span class="savelink_anchor">'+c+"</span>",'<span class="savelink_free">'+l+"</span>",'<span class="savelink_size">'+s+"</span>",'<span class="savelink_down">'+b+"</span>","</a>"].join(""),p+=f}o.html(p)}function e(){var t=0,e=0,n=$(window).height(),i=navigator.userAgent,o=/MSIE (\d+).*/,r=i.match(o);
t=r&&parseInt(r[1])<8?(n-220)/2:(n-a.outerHeight())/2,t>300&&(t-=100),e=$(window).scrollTop()+Math.max(t,10),a.css({top:e,left:($(document).width()-580)/2,display:"block"});var c=Math.max(document.body.scrollHeight,document.documentElement.clientHeight,document.body.clientHeight),l=Math.max(document.body.scrollWidth,document.documentElement.clientWidth,document.body.clientWidth);s.height(c).width(l).show()}function n(){a.hide(),s.hide()}var i=$(".sc_download"),a=$("#sc_savelink_wr"),o=$(".sc_savelink_con"),s=$("#sc_md_s"),r=$(".sc_savelink_cls");
i.on("click",function(n){_hmt&&_hmt.push(["_trackPageview","/virtual/download"]),"2"===$(this).attr("data-type")&&(t($(this)),e(),n.preventDefault())}),s.on("click",function(){return n(),!1}),r.on("click",function(t){n(),t.preventDefault()})}(),bds=window.bds||{},bds.se=bds.se||{},function(){function t(t){this.opts={paperBtn:null,btnText:"我要求助",paperText:null,btnTextSuc:"查看求助",btnTextFail:"求助失败",susClass:"paperhelped",reqData:{}},this.opts=$.extend(this.opts,t),this.opts.show=0,this.init()}bds.se.paperhelp=function(e){return new t(e)
},t.prototype={constructor:t,__init__:0,reqUrl:"//xueshu.baidu.com/usercenter/data/paperhelp",weixinReqUrl:"//xueshu.baidu.com/usercenter/data/PaperHelpWeiXin",weixinReqUrl2:"//upload.xueshu.baidu.com/usercenter/data/PaperHelpWeiXin",jumpUrl:"//xueshu.baidu.com/u/paperhelp?tab=my_sos",$paperDialog:null,$bg:null,$paperContentWr:null,reqingHtml:"",cmd:"new_help",weixinHelpTimeout:null,curDialogObj:null,init:function(){return this.opts.paperBtn&&this.opts.paperText?(this.__init__||(t.prototype.__init__=1,this.initDom(),this.addEvent(),this.getReqingHtml()),t.prototype.curDialogObj=this,void this.getFortune()):!1
},initDom:function(){var e=['<div class="paperhelp-dialog">','<a href="javascript:;" class="paperhelp-close-icon paperhelp-close c-icon-close-hover"><i class="c-icon c-icon-close"></i></a>','<div class="paperhelp-wrapper"></div>',"</div>"].join("");$(e).appendTo($("body")),t.prototype.$paperDialog=$(".paperhelp-dialog"),t.prototype.$bg=$("#sc_md_s"),t.prototype.$paperContentWr=$(".paperhelp-dialog .paperhelp-wrapper")},addEvent:function(){var e=this.$paperDialog;e.on("click",".paperhelp-submit",function(e){t.prototype.curDialogObj.helpSubmit(),e.preventDefault()
}),e.on("click",".paperhelp-close",function(e){t.prototype.curDialogObj.hideDialog(),e.preventDefault()}),e.on("click",".close-link",function(){t.prototype.curDialogObj.hideDialog()}),this.$bg.on("click",function(){t.prototype.curDialogObj.hideDialog()})},req:function(t){var e=this;$.ajax({url:e.reqUrl,dataType:"jsonp",data:t.data,success:function(e){200===e.status?t.success&&t.success(e):t.error&&t.error(e)},complete:function(e,n){("timeout"===n||"error"===n)&&t.error&&t.error()}})},helpSubmit:function(t){var e=this,n=e.opts.reqData;
n.cmd=e.cmd,t&&(n.tag_id=t),e.req({data:n,success:function(t){e.helpSuccess(t)},error:function(t){e.helpFail(t)}}),t||e.ongoing()},getFortune:function(){var t=this;$.ajax({url:t.weixinReqUrl,dataType:"jsonp",data:{cmd:"help_method"}}).done(function(e){200===e.status?(t.showDialog("new-paperhelp",e),t.startWeixinReq()):bds.util.showDialog(e.status,"操作失败")}).fail(function(){bds.util.showDialog(500,"请求超时")})},stopWeixinReq:function(){clearTimeout(t.prototype.weixinHelpTimeout)},startWeixinReq:function(){var e=this;
this.opts.show&&(t.prototype.weixinHelpTimeout=setTimeout(function(){e.weixinHelpRes()},400))},weixinHelpRes:function(){var e=this,n=$(".paperhelp-title").attr("data-tagid");$.ajax({url:e.weixinReqUrl2,dataType:"jsonp",data:{cmd:"get_help_status",tag_id:n}}).done(function(i){200===i.status?t.prototype.curDialogObj.helpSubmit(n):-902===i.status?(e.hideDialog(),bds.util.showDialog(500,"操作超时")):-903===i.status?e.startWeixinReq():-102===i.status&&(e.hideDialog(),bds.util.showDialog(500,"您已退出登陆"))}).fail(function(){e.startWeixinReq()
})},getDialogHtml:function(t,e){var n="",i="",a="",o="//xueshu.baidu.com";switch(t){case"new-paperhelp":var s=["<h4>求助方法2：</h4>",'<p>需要支付<span class="colorful">5</span>财富值,您目前有<span class="colorful">'+e.fortune+"</span>财富值</p>",'<span class="paperhelp-submit button">确认</span>'].join("");e.fortune<5&&(s=["<h4>求助方法2：</h4>",'<p>需要支付<span class="colorful">5</span>个财富值</p>','<p>您的财富值不足，您目前只有<span class="colorful">'+e.fortune+"</span>财富值</p>",'<p>查看<a href="'+o+'/u/user?cmd=help&tab=fortune#makefortune" target="_blank" class="close-link">如何获取财富值</a></p>'].join("")),i=['<div class="paperhelp-title" data-tagid="'+e.tag_id+'">','<span class="colorful">求助文献</span>',"</div>",'<div class="paperhelp-normal">','您将通过<a href="'+o+'/u/paperhelp" target="_blank">文献互助</a>平台发起求助，成功后即可获取论文全文。',"</div>",'<div class="paperhelp-method-wr">','<div class="method1 method">','<div class="weixintext">',"<h4>求助方法1：</h4>","<p>微信扫描二维码，</p>",'<p>每天可免费求助<span class="colorful">2</span>篇</p>',"</div>",'<img src="'+e.qrcode_url+'" alt="" width="100" height="100" class="weixinimg">',"</div>",'<div class="method2 method">',s,"</div>","</div>"].join(""),a="";
break;case"paperhelp-success":var r="";e.qrcode_url&&(r=['<div class="paperhelp-weixin">','<img src="'+e.qrcode_url+'" alt="" width="90" height="90" class="weixinimg">','<div class="weixintext">','<h4><i class="c-icon c-icon-weixin"></i>百度学术</h4>',"<p>微信关注百度学术，随时掌握求助进展！</p>","<p>您求助的文献被应助成功后，微信将及时通知您查看。</p>","</div>","</div>"].join("")),i=['<div class="paperhelp-title">','<span class="colorful">您的求助发布成功！</span>',"</div>",'<div class="paperhelp-normal">','<p>您现在可以去<a class="close-link" href="'+o+'/u/paperhelp?tab=my_sos" target="_blank">我的求助</a>查看进展</p>','<p>您还可以去<a class="close-link" href="'+o+'/u/paperhelp" target="_blank">互助大厅</a>响应他人的求助，赚取财富值!</p>',"</div>",r].join(""),a='<span class="paperhelp-close button">确认</span>';
break;case"paperhelp-forbidden":i=['<div class="paperhelp-title">禁止求助</div>','<div class="paperhelp-normal">',"<p>系统检测到您在应助过程中有作弊行为，已取消您的求助权</p>",'<p>详细说明见<a class="close-link" href="'+o+'/u/paperhelp?tab=help_center" target="_blank">帮助中心</a></p>',"</div>"].join(""),a='<span class="paperhelp-close button">确认</span>';break;case"paperhelp-complained":i=['<div class="paperhelp-title">禁止求助</div>','<div class="paperhelp-normal">',"<p>您已被投诉，已取消您的求助权"+e+"</p>",'<p>详细说明见<a class="close-link" href="'+o+'/u/paperhelp?tab=help_center" target="_blank">帮助中心</a></p>',"</div>"].join(""),a='<span class="paperhelp-close button">确认</span>'
}return n=['<div class="paperhelp-content">',i,"</div>"].join(""),a&&(n+='<div class="paperhelp-buttons">'+a+"</div>"),n},getReqingHtml:function(){var e="",n=navigator.userAgent,i=/MSIE (\d+).*/,a=n.match(i);e=a&&parseInt(a[1])<9?"求助中...":['<span class="spinner">','<span class="bounce1"></span>','<span class="bounce2"></span>','<span class="bounce3"></span>',"</span>"].join(""),t.prototype.reqingHtml=e},ongoing:function(t){var e=this.reqingHtml;"fortune"===t?this.opts.paperText.html(e):(this.opts.paperText.html(e),this.$paperDialog.find(".paperhelp-buttons").html(e))
},hideDialog:function(){this.$bg.hide(),this.$paperDialog.hide(),this.opts.show=0,this.stopWeixinReq()},showDialog:function(t,e){var n=this.$paperDialog,i=this.$bg;if("none"===n.css("display")){this.opts.show=1;var a=this.getDialogHtml(t,e);this.$paperContentWr.html(a);var o=($(window).height()-n.outerHeight())/2,s=($(document).width()-n.outerWidth())/2;o=$(window).scrollTop()+Math.max(o,10),n.css({top:o,left:s}).show();var r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),c=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth);
i.css({height:r,width:c}).show()}},helpSuccess:function(t){if(this.opts.show){var e=this.getDialogHtml("paperhelp-success",t);this.$paperContentWr.html(e)}var n=this.opts.btnTextSuc;this.opts.paperText.text(n),this.opts.paperBtn.attr({href:this.jumpUrl,"data-help":"2"}),this.opts.paperBtn.addClass(this.opts.susClass),t.achievement?bds.se.taskTipsDialog.showDialog(t.achievement):t.daytask&&bds.se.taskTipsDialog.showDialog(t.daytask)},helpFail:function(t){var e=this.opts.btnTextFail;if(this.opts.paperText.text(e),this.opts.show)if(t&&-700==t.status){var n=this.getDialogHtml("paperhelp-forbidden");
this.$paperContentWr.html(n)}else if(t&&-704==t.status){var n=this.getDialogHtml("paperhelp-complained",t.data.punish);this.$paperContentWr.html(n)}else t&&-707==t.status?(this.hideDialog(),bds.util.showDialog(500,"不能重复求助")):(this.hideDialog(),bds.util.showDialog(500))}}}(),!function(){function t(t){if(!$(".sc_allversion_dialog").length){var n=["<div class=\"sc_allversion_dialog xpath-log\" data-click=\"{'fm':'as'}\">","<h3>全部来源</h3>",'<a href="javascript:;" class="cls_btn c-icon-close-hover">','<i class="c-icon c-icon-close"></i>',"</a>",'<div class="allversion_wr"></div>',"</div>"].join("");
$(n).appendTo($("body"))}var i=$(".sc_allversion_dialog"),a=t.parents(".sc_allversion").find(".v_item_span").clone();i.find(".allversion_wr").html("").append(a),e(i)}function e(t){var e=0,n=0,i=$(window).height(),o=navigator.userAgent,s=/MSIE (\d+).*/;o.match(s),e=(i-t.outerHeight())/2,e>300&&(e-=100),n=$(window).scrollTop()+Math.max(e,10),t.css({top:n,left:($(document).width()-580)/2,display:"block"});var r=Math.max(document.body.scrollHeight,document.documentElement.clientHeight,document.body.clientHeight),c=Math.max(document.body.scrollWidth,document.documentElement.clientWidth,document.body.clientWidth);
a.height(r).width(c).show()}function n(){$(".sc_allversion_dialog").length&&($(".sc_allversion_dialog").hide(),a.hide())}var i=($(".sc_default_result"),$(".sc_allversion .v_morebtn")),a=$("#sc_md_s");i.on("click",function(e){t($(this)),e.preventDefault()}),a.on("click",function(){return n(),!1}),$("body").on("click",".sc_allversion_dialog .cls_btn",function(t){n(),t.preventDefault()})}(),bds.ready(function(){function t(){bds.comm.username&&$("#head_wr").width()<=1250&$("#user").width()>72&&$("#setting").hide()
}t(),$("#tnav_l").on("mouseover",function(){$(this).hasClass("leftNav_s")&&$(this).removeClass("hide_leftNav")}),$("#tnav_l").on("mouseout",function(){$(this).hasClass("leftNav_s")&&$(this).addClass("hide_leftNav")}),$(window).on("resize",function(){t()})}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("zeroclip/clipboard.min",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()
}}(function(){var t;return function e(t,n,i){function a(s,r){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!r&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return a(n||e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e){function n(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;
t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}e.exports=n},{}],2:[function(t,e){function n(t,e,n,a,o){var s=i.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}function i(t,e,n,i){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&i.call(t,n)}}var a=t("./closest");
e.exports=n},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e){function n(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");
if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return i(t,e,n);if(s.nodeList(t))return a(t,e,n);if(s.string(t))return o(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function a(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)
}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function o(t,e,n){return r(document.body,t,e,n)}var s=t("./is"),r=t("delegate");e.exports=n},{"./is":3,delegate:2}],5:[function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value
}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),a=document.createRange();a.selectNodeContents(t),i.removeAllRanges(),i.addRange(a),e=i.toString()}return e}e.exports=n},{}],6:[function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){a.off(t,i),e.apply(n,arguments)}var a=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,a=n.length;
for(i;a>i;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],a=[];if(i&&e)for(var o=0,s=i.length;s>o;o++)i[o].fn!==e&&i[o].fn._!==e&&a.push(i[o]);return a.length?n[t]=a:delete n[t],this}},e.exports=n},{}],7:[function(e,n,i){!function(a,o){if("function"==typeof t&&t.amd)t(["module","select"],o);else if(void 0!==i)o(n,e("select"));else{var s={exports:{}};o(s,a.select),a.clipboardAction=s.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}
}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=n(e),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e
}}(),r=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return s(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");
this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=a.default(this.fakeElem),this.copyText()
}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=a.default(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})
}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":o(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');
if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=r})},{select:5}],8:[function(e,n,i){!function(a,o){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],o);
else if(void 0!==i)o(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var s={exports:{}};o(s,a.clipboardAction,a.tinyEmitter,a.goodListener),a.clipboard=s.exports}}(this,function(t,e,n,i){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e
}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;return e.hasAttribute(n)?e.getAttribute(n):void 0}var l=a(e),u=a(n),d=a(i),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t
}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(t,n){o(this,e);var i=s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i
}return r(e,t),f(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===p(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=d.default(t,"click",function(t){return e.onClick(t)
})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);return e?document.querySelector(e):void 0}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)
}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(u.default);t.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(){function t(){$(".batch-container").length>0&&(e(),a(),r())}function e(){A.use("scrollbarv",function(){_=A.ui.scrollbarv({content:$(".batch-file-list").get(0)})
});var t=null,e=null;A.use("dropdown21",function(){v=A.ui.dropdown21($(".format-dropdown").get(0),{onchange:function(t){o(t.item.value),ns_c_xs({button_tp:"batchformat-"+t.item.value,fm:"beha"})},onopen:function(){ns_c_xs({button_tp:"batchformatshow",fm:"beha"})}}),w=A.ui.dropdown21($(".export-dropdown").get(0),{onchange:function(t){ns_c_xs({button_tp:"batchexport-"+t.item.value,fm:"beha"})},onopen:function(){ns_c_xs({button_tp:"batchexportshow",fm:"beha"})}}),$(".format-dropdown .c-dropdown2-menu").height($(".format-dropdown .c-dropdown2-menu").outerHeight()-$(".format-dropdown .c-dropdown2-option").height()),$(".export-dropdown .c-dropdown2-menu").height($(".export-dropdown .c-dropdown2-menu").outerHeight()-$(".export-dropdown .c-dropdown2-option").height()+5),$(".export-dropdown .c-dropdown2-btn-group,.export-dropdown .c-dropdown2-menu").on("mouseenter",function(){clearTimeout(e),"hidden"==$(".export-dropdown .c-dropdown2-menu").css("visibility")&&(t=setTimeout(function(){w.open()
},500))}),$(".export-dropdown .c-dropdown2-btn-group,.export-dropdown .c-dropdown2-menu").on("mouseleave",function(){clearTimeout(t),"hidden"!=$(".export-dropdown .c-dropdown2-menu").css("visibility")&&(e=setTimeout(function(){w.close()},500))})});try{var n=new Clipboard(".batch-file-controller-copy",{text:function(){var t="";return $(".batch-file-list-container .batch-file-list-item").each(function(e,n){$(n).find(".sc_title").length?(0!=e&&(t+="\n\n"),t+=$.trim($(n).find(".sc_title").text())+"\n",t+=$.trim($(n).find(".sc_info").text())+"\n",t+=$.trim($(n).find(".sc_abstract").text())+"\n",t+=$.trim($(n).find(".sc_keywords").text())+"\n"):t+=$.trim($(n).text())+"\n"
}),t}});n.on("success",function(){i(),bds.util.showDialog(200,"复制成功",x),ns_c_xs({button_tp:"batchcopybtn",fm:"beha"})})}catch(a){}}function n(){}function i(){x={top:$(".batch-file-container").position().top+$(window).scrollTop()+$(".batch-file-container").height()/2,left:$(".batch-file-container").position().left+$(window).scrollLeft()+$(".batch-file-container").width()/2}}function a(){var t=bds.se.cookie.get("SC_BATCH"),e=[];t||$(".batch-btn-tip").fadeIn(300),$(".reqdata").each(function(){e.push($(this).attr("urlmd"))
}),$.ajax({url:g,dataType:"jsonp",data:{cmd:"check_folder",url_md5:e.join(",")}}).done(function(t){200==t.status&&t.ret_data.total_num>0&&(m(t.ret_data.total_num),$.each(e,function(e,n){$.inArray(n,t.ret_data.exists_md5)>-1&&($(".sc_batch").eq(e).attr({"data-added":1,"data-nolog":1}),$(".sc_batch").eq(e).addClass("batched").attr("title","已添加"))}))}).fail(function(){}).always(function(){})}function o(t){"Default"==t&&(t=""),$.ajax({url:g,dataType:"jsonp",data:{cmd:"get_folder_detail",cite_format:t}}).done(function(t){if(200==t.status){var e=s(t.htmldata);
$(".batch-file-list ul").html(e),_.render()}}).fail(function(){}).always(function(){$(".batch-file-list-item-li").length!=$(".batch-file-header span").text()&&m($(".batch-file-list-item-li").length),$(".batch-file-list-container .batch-file-list-item-li").length<=0?$(".batch-file-list-container").addClass("empty").append(bds.comm.isdetailpage?'<div class="batch-file-list-container-empty"><h3>文件夹为空</h3><p>请点击文献名下方的“批量引用”<br/>导出文献到此文件夹，体验批量处理功能。</p></div>':'<div class="batch-file-list-container-empty"><h3>文件夹为空</h3><p>请点击文献右下侧的“批量引用”<br/>导出文献到此文件夹，体验批量处理功能。</p></div>'):($(".batch-file-list-container").removeClass("empty"),$(".batch-file-list-container .batch-file-list-container-empty").remove())
})}function s(t){return t=t.replace(/#\{scUrlComponent\}/g,"&tn="+bds.comm.tn+"&ie=utf8"+(bds.comm.scAsPara?"&sc_as_para="+bds.comm.scAsPara:"")+(bds.comm.scFrom?"&sc_from="+bds.comm.scFrom:"")),t=t.replace(/#i\{/g,"<i>"),t=t.replace(/\}/g,"</i>")}function r(){d(),h(),b()}function c(){n(),$(".batch-file-container").show().css({filter:"alpha(opacity=1)","-moz-opacity":"1",opacity:"1",transform:"translateY(0)","-webkit-transform":"translateY(0)","-ms-transform":"translateY(0)","-mos-transform":"translateY(0)"}).addClass("ie8hack"),$(".batch-btn").hide(),o(""),$.fn.hasOwnProperty("printArea")||$.getScript("http://s1.bdstatic.com/r/www/cache/mid/static/jquery/jquery.printarea_7be1005.js"),v.setIndex(0),w.setIndex(0),y=!0;
var t=bds.se.cookie.get("SC_BATCH");t&&1==t&&3!=t&&$(".batch-file-mask").show().on("click",function(t){t.preventDefault(),$(this).fadeOut(),bds.se.cookie.set("SC_BATCH",3,{expires:31536e6})})}function l(){var t=$(".batch-file-container");t.offset().top+t.height()>=$(window).height()+$(window).scrollTop()?t.css({transform:"translateY(450px)","-webkit-transform":"translateY(450px)","-ms-transform":"translateY(450px)","-mos-transform":"translateY(450px)"}).removeClass("ie8hack"):(t.css({filter:"alpha(opacity=0)","-moz-opacity":"0",opacity:"0"}).removeClass("ie8hack"),setTimeout(function(){t.hide()
},300)),$(".batch-btn").show(),y=!1}function u(t){return t.parents("#dtl_l").length?t.parents("#dtl_l").eq(0):t.parents(".result").length?t.parents(".result").eq(0):null}function d(){$(document).on("click",".batch-btn",function(){c(),$(".batch-btn-tip").hide();var t=bds.se.cookie.get("SC_BATCH");t||bds.se.cookie.set("SC_BATCH",3,{expires:31536e6}),ns_c_xs({fm:"beha",button_tp:"batch_btn"}),_hmt&&_hmt.push(["_trackPageview","/virtual/batch"])}),$(document).on("click",".batch-file-header .batch-file-close",function(){l()
}),$(document).on("click",function(t){$(t.target).parents(".batch-container").length<=0&&!$(t.target).hasClass("sc_batch")&&$(t.target).parents(".sc_batch").length<=0&&$(t.target).parents("#global-zeroclipboard-flash-bridge").length<=0&&l()}),$(".export-dropdown .c-dropdown2-menu a").on("click",function(t){0==$(".batch-file-list-container").find(".batch-file-list-item-li").length&&t.preventDefault()}),$(document).on("click",".batch-file-item-delete",function(){var t=$(this);$.ajax({url:g,dataType:"jsonp",data:{cmd:"delete_article",url:t.attr("data-url")}}).done(function(e){200==e.status&&(t.parents(".batch-file-list-item-li").animate({left:-650},350,function(){t.parents(".batch-file-list-item-li").remove(),m(-1)
}),$(".reqdata[urlmd="+e.urlmd5+"]").parent().find(".sc_batch").removeAttr("data-added data-nolog").removeClass("batched"),ns_c_xs({button_tp:"batchdelete",fm:"beha"}))})}),$(document).on("click",".batch-file-list-item .sc_title",function(){ns_c_xs({button_tp:"batchtitle",fm:"beha"})}),$(".batch-file-controller-clear").on("click",function(t){t.preventDefault(),$.ajax({url:g,dataType:"jsonp",data:{cmd:"delete_folder"}}).done(function(t){200==t.status&&($(".batch-file-list ul").empty(),m(0),$(".sc_batch").removeAttr("data-added data-nolog").removeClass("batched"),ns_c_xs({button_tp:"batchclear",fm:"beha"}))
})});var t=null,e=null;$(".batch-file-controller-mail").on("click",function(t){t.preventDefault(),clearTimeout(e),p()}),$(".batch-file-controller-mail").on("mouseover",function(n){n.preventDefault(),clearTimeout(e),t=setTimeout(function(){p()},1e3)}),$(".batch-file-controller-mail").on("mouseout",function(n){n.preventDefault(),clearTimeout(t),e=setTimeout(function(){f()},1e3)}),$(".batch-file-controller-mail-inputbox").on("mouseover",function(){clearTimeout(e)}),$(".batch-file-controller-mail-inputbox").on("mouseout",function(){clearTimeout(t),e=setTimeout(function(){f()
},1e3)}),$(".batch-file-controller-mail-submit").on("click",function(t){if(t.preventDefault(),!($(".batch-file-list-container .batch-file-list-item").length<=0)){var e=$.trim($(".batch-file-controller-mail-input").val()),n=v.getValue(),a="&tn="+bds.comm.tn+"&ie=utf8"+(bds.comm.sc_as_para?"&sc_as_para="+bds.comm.sc_as_para:"")+(bds.comm.sc_from?"&sc_from="+bds.comm.sc_from:"");"Default"==n&&(n=""),i(),e&&$.ajax({url:g,dataType:"jsonp",data:{cmd:"export_email",email:e,cite_format:n,scUrlComponent:a}}).done(function(t){200==t.status?(ns_c_xs({button_tp:"batchemailsucess",fm:"beha"}),bds.util.showDialog(t.status,"发送成功",x),f()):-101==t.status?bds.util.showDialog(t.status,"邮箱格式错误",x):-104==t.status?bds.util.showDialog(t.status,"批量引用无文件可发送",x):-105==t.status?bds.util.showDialog(t.status,"今日发送邮件数已达上限",x):bds.util.showDialog(t.status,"发送失败，请稍后重试",x)
}).fail(function(){bds.util.showDialog(500,"发送失败，请稍后重试",x)}).always(function(){ns_c_xs({button_tp:"batchemailsend",fm:"beha"})})}}),$(".batch-file-controller-printer").on("click",function(t){t.preventDefault(),$(".batch-file-list-container .batch-file-list-item").length<=0||$.fn.hasOwnProperty("printArea")&&($(".batch-file-list-container").printArea(),ns_c_xs({button_tp:"batchprint",fm:"beha"}))}),$(".batch-file-controller-collect").on("click",function(t){var e=$(this);if(e.attr("collected"));else{if(t.preventDefault(),i(),!bds.comm.username)return void bds.se.login.open();
if(!$(".batch-file-list .batch-file-list-item-li").length)return;$.ajax({url:g,dataType:"jsonp",data:{cmd:"collect"}}).done(function(t){200==t.status&&(bds.util.showDialog(200,"收藏成功",x),e.attr("collected",1).html("我的收藏"),ns_c_xs({button_tp:"batchcollected",fm:"beha"}))})}})}function p(){$(".batch-file-controller-mail-inputbox").show()}function f(){$(".batch-file-controller-mail-inputbox").hide()}function h(){$(document).on("click",".sc_batch",function(t){var e=$(this);if(t.preventDefault(),!e.attr("data-added")){var n=u($(this)),i=n.find(".reqdata");
i&&i.attr("url")&&i.attr("diversion")&&$.ajax({url:g,dataType:"jsonp",data:{cmd:"add_article",url:i.attr("url"),di_version:i.attr("diversion")}}).done(function(t){200==t.status?(e.attr({"data-added":1,"data-nolog":1}),e.addClass("batched").attr("title","已添加"),m()):-1211==t.status?bds.util.showDialog(t.status,"批量引用达到上限"):bds.util.showDialog(t.status,"添加失败")})}})}function m(t){$(".batch-btn").addClass("active"),setTimeout(function(){$(".batch-btn").removeClass("active")},1e3),t>=0||(0>t?t=parseInt($(".batch-container .batch-btn span").text())-1:(t=parseInt($(".batch-container .batch-btn span").text())+1,$(".batch-file-controller-collect").removeAttr("collected").html("一键收藏"))),$(".batch-container .batch-btn span,.batch-container .batch-file-header span").html(t),y&&o(v.getValue())
}function b(){var t=!1,e="0",n="0",i="0",a="0",o=e-i,s=n-a;$(document).mousemove(function(r){if(e=r.pageX,n=r.pageY,i=$(".batch-file-container").offset().left,a=$(".batch-file-container").offset().top,t){var c=r.pageX-o-$(window).scrollLeft(),l=r.pageY-s-$(window).scrollTop();$(".batch-file-container").css({top:Math.min(Math.max(l,$("#head_wr").height()),$(window).height()-$(".batch-file-container").height()),left:Math.min(Math.max(c,$("#tnav_l").width()),$(window).width()-$(".batch-file-container").width())})
}else o=e-i,s=n-a}),$(".batch-file-header").mousedown(function(){t=!0}),$(document).mouseup(function(){t=!1})}if(bds&&bds.util&&bds.util.domain&&bds.util.domain.get)var g=bds.util.domain.get("http://a.xueshu.baidu.com/usercenter/data/retpagebatch");else var g="http://a.xueshu.baidu.com/usercenter/data/retpagebatch";var _=null,v=null,w=null,y=!1,x={top:0,left:0};t()}(),bds.se.indexBanner=function(){var t=bds.comm.topBannerInfo;if(t.startDate&&t.endDate){var e=new Date,n=new Date(t.startDate),i=new Date(t.endDate);
if(!(n>e||e>i)){var a="SC_HOMEEGG",o=bds.se.cookie.get(a);if(o=o?JSON.parse(o):{},o.id!=t.id&&(delete o.close,o.id=t.id),!o.close){var s=bds.comm.topBannerInfo.width,r=bds.comm.topBannerInfo.height,c=[".index_topbanner{position:absolute;top:110px;right:28px;z-index:100;width:"+s+"px;height:"+r+"px;background:url("+t.imgUrl+") 0 0 no-repeat}",".index_topbanner .logo_wr{height:100%;display:block;width:100%;}",".index_topbanner .banner_close{display:inline-block;position:absolute;right:0;top:0;width:20px;height:20px;z-index:20;cursor:pointer;color:#000;font-size:12px;}"].join(""),l=['<div class="index_topbanner">',t.jumpUrl?'<a href="'+t.jumpUrl+'" target="blank" class="logo_wr"></a>':"",'<span class="iconfont banner_close">&#xe609;</span>',"</div>"].join("");
$(".content_wr,#content_right,#dtl_r").append($("<style>"+c+"</style>")).append($(l));var u=$(".index_topbanner"),d=u.find(".banner_close");bds.comm.ishome||u.css({position:"relative",top:0,left:0}),d.on("click",function(t){u.hide(),t.preventDefault()})}}}},bds.se.indexBanner(),bds.doReady(),function(){$("#left_menu_content").on({mouseenter:function(){$("#wrapper").addClass("leftNavOn")},mouseleave:function(){$("#wrapper").removeClass("leftNavOn")}})}(),window.scr_rec=function(){var t="";try{t+=[document.body.clientWidth,document.body.clientHeight,window.screenTop,window.screenLeft,window.screen.width,window.screen.height].join("_")
}catch(e){}return t};var rsv_scr=scr_rec();ns_c_xs(bds.comm.isdetailpage?{fm:"se",rsv_scr:rsv_scr,rsv_trans_show:bds.comm.isTransShow}:{fm:"se",rsv_scr:rsv_scr,rs_nu:$(".sc_default_result").length,rsv_trans_show:bds.comm.isTransShow}),bds.se.quote.init({needLog:1,logFuc:function(t){ns_c_xs({fm:"beha",title:t})},eventBtnClass:".sc_q",eventFn:function(t){var e=t.attr("data-link"),n=t.parents(".sc_default_result,#dtl_l").find(".reqdata").attr("diversion"),i=t.attr("data-sign");bds.se.quote.show({sign:i,diversion:n,url:e})
}});var data_path="//xueshu.baidu.com";!function(){$.ajax({url:data_path+"usercenter/data/authorchannel?cmd=claim_new_paper",type:"get",dataType:"jsonp",timeout:2e3,success:function(t){0===t.status&&t.data&&$(".dotPromote").append('<i class="iconfont redDot">&#xe630;</i>')}})}(),bds.se.paperhelpSatatus=function(){function t(t){-1!==$.inArray(s,t)&&(o.text("查看求助"),i.attr({href:n,"data-help":"2"}),i.addClass("paperhelped"))}function e(){$.ajax({url:"//xueshu.baidu.com/usercenter/data/paperhelp",dataType:"jsonp",data:{cmd:"judge_papers",papers:r},success:function(e){200===e.status&&t(e.data)
},complete:function(){}})}var n="//xueshu.baidu.com/u/paperhelp?tab=my_sos",i=$("#dtl_main .sc_paperhelp"),a=$("#dtl_main .reqdata"),o=i.find(".paperhelp_text"),s=a.attr("urlmd"),r=[];return r[0]=[s,a.attr("longsign")],r=JSON.stringify(r),e}(),bds.se.paperhelpSatatus(),$(".sc_paperhelp").on("click",function(t){var e=$(this),n=e.attr("data-help");if("2"!==n){if(e.find(".spinner").length)return void t.preventDefault();if(1*bds.comm.isLogin!==1)return bds.se.login.open(),void t.preventDefault();var i=e.parents("#dtl_main").find(".reqdata"),a=e.attr("data-author"),o=e.attr("data-title"),s=decodeURIComponent(i.attr("url")),r=i.attr("longsign"),c={title:o,author:a,url:s,sc_longsign:r};
bds.se.paperhelp({paperBtn:e,paperText:e.find(".paperhelp_text"),reqData:c}),t.preventDefault()}});var bds=bds||{};bds.se=bds.se||{},bds.se.libHost="http://xueshu.baidu.com",bds.se.jumpHost="http://sso2.nlc.cn:8080/nlcbd/",bds.se.libAccountDialog=function(){function t(){$(".libDialogBg").hide(),$(".sch_libraryDialog").hide()}function e(t){var e=$(window),n=(e.height()-t.outerHeight())/2,i=(e.width()-t.outerWidth())/2,a=e.scrollTop();a+=Math.max(n,10),t.css({top:a,left:i})}function n(){$(".libDialogBg").length||($('<div class="libDialogBg"></div>').appendTo($("body")),o=$(".libDialogBg"),a())
}function i(t){n(),e(t);var i=Math.max(document.body.scrollHeight,document.documentElement.clientHeight,document.body.clientHeight);o.height(i).show(),t.show()}function a(){o.on("click",function(){return t(),!1}),$("body").on("click",".sch_libraryDialog .dialog_close",function(e){t(),e.preventDefault()})}var o=null;return{showDialog:i,hideDialog:t}}(),bds.se.libAccountBind=function(){function t(){s(),c()}function e(){var t="sch_libaccount_cb_",e=n(4);return t+=e}function n(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split(""),n=t||4,i="",a=0;n>a;a++)i+=e[Math.floor(Math.random()*e.length)];
return i}function i(t){if(t){t=decodeURIComponent(t),$("#libCookieIframe").length&&$("#libCookieIframe").attr("src",t);var e="sch_lib_ifr_"+n(5),i=['<div id="'+e+'" style="display:none;">','<iframe id="libCookieIframe" src="'+t+'" frameborder="0" style="display:none;"></iframe>',"</div>"].join("");$(i).appendTo($("body"))}}function a(t){if(200==t.status)l.onBindSuccess.call(window,t);else{var e=$(".library_bind_content"),n=e.find(".ipttext");e.find(".bind_error").show(),n.val(""),e.find(".iptclearwr").hide(),$(n[0]).focus()
}}function o(t){l=$.extend(l,t)}function s(){var t=e();window[t]=a;var n=['<div class="library_bind_content">',"<h3>国图账号绑定</h3>",'<div class="content">','    <div class="account_formwr">','        <form action="'+u.bindUrl+'" method="POST" class="bind_form" target="">','            <p class="ipt_wrapper">','                <span class="iconlabel libicon icon_username"></span>','                <input type="text" name="uname" maxlength="50" placeholder="国图注册账号/读者卡号/身份证号" class="name_ipt ipt ipttext">','                <a href="javascript:;" class="iptclearwr icon_iptclear_hover">','                    <span class="libicon icon_iptclear"></span>',"                </a>","            </p>",'            <p class="ipt_wrapper">','                <span class="iconlabel libicon icon_userpwd"></span>','                <input type="password" name="passwd" maxlength="40" placeholder="密码" class="password_ipt ipt ipttext">','                <a href="javascript:;" class="iptclearwr icon_iptclear_hover">','                    <span class="libicon icon_iptclear"></span>',"                </a>","            </p>",'            <p style="display:none">','            <input type="hidden" value="'+u.jumpurl+'" name="jump_url" />',"            </p>",'            <p class="bind_subwr">','                <input type="submit" value="绑定" class="bind_submit_btn btn">','                <span>还没有国图账号？立即<a href="http://sso1.nlc.cn/ReadPortal/readerRegister.jsp" target="_blank">注册新用户</a></span>',"            </p>","        </form>","    </div>",'    <div class="account_intro">',"        <h4>绑定说明</h4>","        <p>1.&nbsp;请绑定国图网上实名认证账号或读者卡账号，您可以登录",'            <a href="http://mylib.nlc.cn/web/guest/reader_login" target="_blank">mylib.nlc.cn</a>',"            查看您的国图账号权限","        </p>","        <p>2.&nbsp;绑定成功后，您可以通过百度学术平台自动登录国图系统，直接拥有全文获取权限。</p>","        <p>3.&nbsp;本服务为百度学术国家图书馆的战略合作项目，我们会对您的账号信息进行严格保密。</p>","    </div>","</div>",'<div class="bind_error">',"    <h3>很遗憾，绑定失败。</h3>","    <p>可能有以下几种原因：</p>","    <p>1. 国图账号或密码输入有误。如果您忘记账号密码，可以尝试通过",'        <a href="http://sso1.nlc.cn/ReadPortal/retrieve_passwordinto.action" target="_blank">该链接</a>找回密码。',"    </p>","    <p>2. 您输入的国图账号不是网上实名认证账号或者读者卡账号，您可以登陆",'        <a href="http://mylib.nlc.cn/web/guest/reader_login" target="_blank">mylib.nlc.cn</a>',"        查看您的国图账号权限","    </p>","</div>","</div>"].join("");
$(n).appendTo($("#libraryAccountPage"))}function r(t){var e=t.val(),n=t.parents(".ipt_wrapper").find(".iptclearwr");e.length?n.show():n.hide()}function c(){var t=$(".library_bind_content"),e=t.find(".ipttext");e.focus(function(){var t=$(this);t.addClass("iptforcus"),r(t)}).blur(function(){$(this).removeClass("iptforcus")}).keydown(function(){var t=$(this);setTimeout(function(){r(t)},10)}),t.find(".iptclearwr").on("click",function(t){var e=$(this),n=e.parents(".ipt_wrapper").find(".ipttext");n.val(""),e.hide(),t.preventDefault()
}),t.find(".bind_form").on("submit",function(){for(var t,n="",i=$(this),o=0;2>o;o++)if(t=e[o],!t.value.length)return $(t).focus(),!1;if($(".lib-account-login-iframe").length)n=$(".lib-account-login-iframe").attr("name");else{var s=new Date;s=s.getTime(),n="lib-account-iframe-"+s,$('<iframe src="" frameborder="0" style="display:none;" class="lib-account-login-iframe" name="'+n+'"></iframe>').appendTo($("body"))}i.attr("target",n),$(".lib-account-login-iframe").load(function(){var t,e,n,i=this;try{i.contentWindow?e=i.contentWindow.document.body:i.contentDocument&&(e=i.contentDocument.document.body),n=$(e).text()
}catch(o){}try{t=JSON.parse(n)}catch(o){t=new Function("return "+n)()}a(t)})})}var l={onBindSuccess:function(){}},u={bindUrl:bds.se.jumpHost+"/api/bind",jumpurl:bds.se.libHost+"/usercenter/data/nationalaccount?cmd=bind"};return{init:t,setConfig:o,setCookieIframe:i}}(),bds.se.libAccountUnbind=function(){function t(){var t=['<div id="libraryUnbindPage" class="sch_libraryDialog">','<a href="javascript:;" class="close_icon icon_close_hover dialog_close"><i class="libicon icon_close"></i></a>',"<h3>确定解除绑定？</h3>",'<p class="bind_subwr">','   <span class="unbind_submit_btn btn">确认</span>','   <span class="dialog_close btn cancle">放弃</span>',"</p>","</div>"].join("");
$(t).appendTo($("body"))}function e(e){o||(a=$.extend(a,e),$("#libraryUnbindPage").length||(t(),n()),bds.se.libAccountDialog.showDialog($("#libraryUnbindPage")))}function n(){$("#libraryUnbindPage .unbind_submit_btn").on("click",function(t){i(),t.preventDefault()})}function i(){o||(o=1,$.ajax({url:bds.se.libHost+"/usercenter/data/nationalaccount?cmd=unbind",type:"GET",dataType:"jsonp"}).done(function(t){0===t.status?a.unbindSucFn():a.unbindFailFn()}).fail(function(){a.unbindFailFn()}).always(function(){o=0
}))}var a={unbindSucFn:function(){},unbindFailFn:function(){}},o=0;return{show:e}}(),bds.se.libAccount=function(){function t(){var t=['<div id="libraryAccountPage" class="sch_libraryDialog">','<a href="javascript:;" class="close_icon icon_close_hover dialog_close"><i class="libicon icon_close"></i></a>',"</div>"].join("");$(t).appendTo($("body")),o=$("#libraryAccountPage"),bds.se.libAccountBind.init()}function e(e){o&&o.length||t(),bds.se.libAccountBind.setConfig({onBindSuccess:e}),bds.se.libAccountDialog.showDialog(o)
}function n(t){bds.se.libAccountUnbind.show(t)}function i(t){$.ajax({url:bds.se.libHost+"/usercenter/data/nationalaccount?cmd=select",type:"GET",dataType:"jsonp"}).done(function(e){0===e.status&&t(e)})}function a(){bds.se.libAccountDialog.hideDialog()}var o=null;return{init:e,hide:a,unbind:n,getAccountStatus:i}}(),!function(){function t(){var t=$("#dtl_l .abstract_wr"),e=$("#dtl_l .abstract"),n=$("#dtl_l .abstract_more"),o=e.height();o>24*i&&(t.css("height",a+"px").attr("data-shorth",a),n.show()),$("#dtl_l .content_hidden").css("visibility","visible")
}function e(){var e=$("#dtl_l h3 a").attr("data-link"),n=$("#dtl_l .abstract").attr("data-sign");$.ajax({url:"//xueshu.baidu.com/usercenter/data/schinfo?url="+e,dataType:"jsonp",data:{sign:n},timeout:300,success:function(t){0===t.status&&t.meta_di_info&&t.meta_di_info.sc_abstract&&t.meta_di_info.sc_abstract[0]&&$("#dtl_l .abstract").html(t.meta_di_info.sc_abstract[0])},complete:function(){t()}})}var n=22,i=5,a=n*i;e(),$("#dtl_l .abstract_more").on("click",function(t){var e=$(this),n=e.attr("data-open"),i=$("#dtl_l .abstract_wr");
n?(i.css("height","auto"),$(this).attr("data-open",""),$(this).find("span").text("收起"),$(this).find("i").removeClass("c-icon-triangle-down-d").addClass("c-icon-triangle-up-d")):(i.css("height",i.attr("data-shorth")),$(this).attr("data-open","1"),$(this).find("span").text("更多"),$(this).find("i").removeClass("c-icon-triangle-up-d").addClass("c-icon-triangle-down-d")),t.preventDefault()})}();var longSign=$("#dtl_l .reqdata").attr("longsign"),defTitleurl=$("#dtl_l .reqdata").attr("url"),citaWd="refpaperuri:("+longSign+")",defaultWd=$("#dtl_l h3").text(),refWd="citepaperuri:("+longSign+")",commUrl="&tn="+bds.comm.resultTn+"&ie=utf-8",pageNum=1,citation_rt=reference_rt=related_rt=0,requestTimes=2,requestTimes_first=3,related_first=reference_first=citation_first=!0,leftTab=$(".tab_left"),leftTabitem=leftTab.find("p"),toTopTab=leftTab.find("topBtn"),relTab=$("#dtl_l .rel_tab"),refTab=$("#dtl_l .ref_tab"),citTab=$("#dtl_l .cit_tab"),topTab=$("#dtl_l .topBtn");
relTab.on("click",function(){var t=0;$(window).scrollTop()>=$("#dtl_l .list_tab").offset().top&&(t=134);var e=$("#dtl_l .list_tab").offset().top-t;relTab.addClass("select").siblings().removeClass("select"),window.scrollTo(0,e)}),refTab.on("click",function(){var t=0;$(window).scrollTop()>=$("#dtl_l .con_reference").offset().top&&(t=134);var e=$("#dtl_l .con_reference").offset().top-t;$(this).hasClass("list_tab_item"),refTab.addClass("select").siblings().removeClass("select"),window.scrollTo(0,e)}),citTab.on("click",function(){var t=0;
$(window).scrollTop()>=$("#dtl_l .con_citation").offset().top&&(t=134);var e=$("#dtl_l .con_citation").offset().top-t;$(this).hasClass("list_tab_item"),citTab.addClass("select").siblings().removeClass("select"),window.scrollTo(0,e)}),topTab.on("click",function(){window.scrollTo(0,0)}),bindEvent(),request("related",1),0!=$(".ref_tab").length&&request("reference",1),0!=$(".cit_tab").length&&request("citation",1),bds=window.bds||{},bds.se=bds.se||{},bds.se.preloadFlag={},bds.se.preload=function(){function t(t,i,a){bds.comm.upn.ie&&bds.comm.upn.ie<8||$.each(t,function(t,o){if($(o).attr("data-url")&&!$(o).attr("data-embed")){var s=n();
e($(o).attr("data-url"),s,i,a),bds.se.preloadFlag[s]=0,$(o).attr("data-iframe",s),a&&$(o).on("click",function(t){t.preventDefault();var e=$(this).attr("data-iframe");$("#"+e).siblings().hide(),$("#"+e).show(),bds.se.preloadFlag[e]?$(".frameloading").hide():$(".frameloading").show(),$("#"+e).load(function(){$(".frameloading").hide()});var n=scr_rec();ns_c_xs({fm:"se",rsv_scr:n,rsv_trans_show:bds.comm.isTransShow}),_hmt.push(["_trackPageview",window.location.pathname+window.location.search])})}})}function e(t,e,n,i){var a=$('<iframe id="'+e+'" name="'+e+'" class="preload-iframe" src="'+t+'" style="display:none;"></iframe>');
n&&n.length>0?n.append(a):$(document.body).append(a),i&&$("#"+e).load(function(){bds.se.preloadFlag[e]=1})}function n(){return"preload-iframe-"+(new Date).getTime().toString().substr(-6)}return{init:t}}();var bds=bds||{};bds.se=bds.se||{},bds.se.ppvHost="//xueshu.baidu.com",bds.se.ppv=function(){function t(t){var n=$(".src_tabitem[data-target='purchase_wr']"),i=$("#purchase_wr");$.ajax({url:bds.se.ppvHost+"/usercenter/data/ppv",dataType:"jsonp",data:{cmd:"check_tab",url:t}}).done(function(t){200==t.status?(n.show(),i.addClass("allready"),e(t.status)):102==t.status?(n.show(),i.addClass("unlogin"),e(t.status)):1202==t.status?(n.show(),i.addClass("unbind"),e(t.status)):(n.hide(),i.hide())
})}function e(t){$(".getdownload").on("mousedown",function(){if(bds.comm.username)switch(t){case 200:$(this).attr("href",bds.se.ppvHost+"/u/ppv?tab=createorder&url="+encodeURIComponent($(".reqdata").attr("url")))}else bds.se.login.open()})}return{getStatus:t}}(),!function(){function t(t){function e(){i(),n(),_||(21>=g?_=1:g>21&&41>=g?_=2:g>41&&61>=g?_=3:g>61&&81>=g&&(_=4)),v=a()}function n(){var t="";t+='<div class="textTips"><div class="textTips_cite"><span class="year"></span><span class="number"></span></div><div class="textTips_total"><span class="total"></span><span class="totalnum"></span></div></div>',t+='<div class="lineTips"></div>',$(t).appendTo(K),te=K.find(".textTips"),Z=K.find(".lineTips"),ee=te.find(".number"),ne=te.find(".total"),$textTipTotalNum=te.find(".totalnum"),ie=te.find(".year"),Z.css("background-color",Y),oe=parseInt(Z.css("bottom"))
}function i(){N.width=w,N.height=y,P.width=w,P.height=y,U.width=w,U.height=y,R.height=R.width=2*D,X.addClass("line_map_wrapper"),K.addClass("line_map_container"),X.parent().css("overflow","visible"),$(N).css({width:w,height:y,"z-index":80}).addClass("line_map_canvas"),$(P).css({width:w,height:y,"z-index":99}).addClass("line_map_canvas"),$(U).css({width:w,height:y,"z-index":90}).addClass("line_map_canvas"),ae.addClass("hoverCanvas"),se=parseInt($(N).css("top"))}function a(){for(var t,e=0,n=g-1;n>=0;n--)t=h[n].total-0,t>e&&(e=t);
return e}function o(){f(ce)}function s(){var t,e,n,i,a,o=C/2;K.on("mousemove",function(s){clearTimeout(a),n=d(G),a=setTimeout(function(){t=s.pageX||s.clientX+document.documentElement.scrollLeft,e=s.pageY||s.clientY+document.documentElement.scrollTop,t-=n.left-o,e-=n.top-o,i=p(t,e),i&&f(i)},10)})}function r(t,e){M.beginPath(),M.arc(t,e,x,0,2*Math.PI,1),M.closePath(),M.fill(),M.beginPath(),M.arc(t,e,k,0,2*Math.PI,1),M.closePath(),M.lineWidth=T,M.fill(),M.stroke()}function c(){var t=0,e=0,n=0,i=C/2;
for(L.strokeStyle=V,H.strokeStyle="#fff",M.strokeStyle=Q,H.fillStyle="red",M.fillStyle="#fff",H.translate(i,i),M.translate(i,i),L.translate(i,i),H.beginPath(),L.beginPath(),H.moveTo(t,j-e);g>n;n+=1)e=j*(1-h[n].total/v),re.push([t,e]),0!==e||ce||(ce={x:t,y:e,number:h[n].total,year:h[n].year,total:h[n].cited}),H.lineTo(t,e),0===n?L.moveTo(t,e):L.lineTo(t,e),r(t,e),t+=q;H.lineTo(t-q,j),L.stroke(),H.stroke(),l()}function l(){var t=!!document.createElement("canvas").getContext;if(t&&B){var e=document.createElement("img");
e.src=B,e.onload=function(){H.fillStyle=H.createPattern(e,"repeat"),H.fill()}}else H.fillStyle=W,H.fill()}function u(){F.translate(D,D),F.fillStyle=z,F.beginPath(),F.arc(0,0,D,0,2*Math.PI,1),F.closePath(),F.fill(),F.fillStyle="#fff",F.beginPath(),F.arc(0,0,A,0,2*Math.PI,1),F.closePath(),F.fill(),F.beginPath(),F.fillStyle=J,F.arc(0,0,E,0,2*Math.PI,1),F.closePath(),F.fill()}function d(t){for(var e=0,n=0;null!=t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:e,top:n}}function p(t){for(var e,n,i,a=0;g>a;a++)if(e=re[a][0],n=re[a][1],i=Math.abs(t-e),q/2>i)return{x:e,y:n,number:h[a].total,year:h[a].year,total:h[a].cited}
}function f(t){ee.text(t.number),ie.text(m),ne.text(t.year+"年"+b),$textTipTotalNum.text(t.total);var e=te.outerWidth(),n=(te.outerHeight(),t.x+C/2+2);n+e>w&&(n=t.x-e+C/2-2),te.css({left:n,bottom:5}),Z.css({left:t.x+C/2,height:j-t.y-oe-se}),ae.css({left:t.x-D/2,top:t.y-D/2+se}),te.show(),Z.show(),ae.show()}var h=t.data,m=t.tiptext,b=t.tipTotaltext,g=h.length,_=t.dataGap||0,v=0,w=t.canW||740,y=t.canH||110,x=4,k=2,T=1,C=2*x,S=w-C,j=y-C,q=S/(g-1),D=10,A=5,E=3,O=t.config||{},I=t.canvas,N=I.bgCan,H=N.getContext("2d"),P=I.cirCan,M=P.getContext("2d"),U=I.routeCan,L=U.getContext("2d"),R=I.hoverCan,F=R.getContext("2d"),B=O.bgimg||"",W=O.bgColor||"#ffdec8",J=O.hoverCirColor||"#3388ff",z=O.hoverBgColor||"rgba(51, 136, 255,.3)",V=O.lineColor||"#ff6600",Q=O.cirColor||"#ff6600",Y=O.lineTipsColor||"#ffc096",G=t.container,K=$(G),X=$(t.wrapper),Z=null,te=null,ee=null,ne=null,ie=null,ae=$(R),oe=0,se=0,re=[],ce=null;
this.render=function(){e(),c(),u(),o(),s()}}A=window.A||{},A.ui=A.ui||{},A.ui.lineMap=function(e){return new t(e)}}();var bds=bds||{};bds.se=bds.se||{},bds.se.initEffectMap=function(){function t(){var t=document.getElementById("cited_bgCanvas"),e=document.getElementById("cited_circleCanvas"),i=document.getElementById("cited_routeCanvas"),a=document.getElementById("cited_hoverCanvas"),o=document.getElementById("cited_map_wrapper"),s=document.getElementById("cited_map_container");if(t&&lineMapCitedData){n||(A.ui.canvas.init(t),A.ui.canvas.init(e),A.ui.canvas.init(i),A.ui.canvas.init(a));
var r=A.ui.lineMap({data:lineMapCitedData,tiptext:"累加量",tipTotaltext:"被引量",container:s,wrapper:o,canW:260,canH:70,canvas:{bgCan:t,cirCan:e,routeCan:i,hoverCan:a},config:{bgimg:"http://s1.bdstatic.com/r/www/cache/mid/static/xueshu/img/line_mapbg_80bf122.png"}});r.render()}}function e(){t()}var n=!!document.createElement("canvas").getContext;return{init:e}}(),bds.se.initEffectMap.init(),function(){$("#left_menu_content").on({mouseenter:function(){$("#wrapper").addClass("leftNavOn")},mouseleave:function(){$("#wrapper").removeClass("leftNavOn")
}})}(),setDTLLeftHeight(),function(){var t=null,e=null,n=null;A.use("share2",function(){var i=null,a=null;$(".dtl_subinfo").on("mouseenter",function(){a||$.ajax({url:"/usercenter/data/dwz",type:"POST",dataType:"json",data:{cmd:"create",url:window.location.href}}).done(function(t){200==t.status&&(a=t.tinyurl)})}),$(".sc_share,.sc_share_box_content").on("mouseenter",function(o){var s=this;a?(i?o.preventDefault():i=A.ui.share2($(".sc_share_box").get(0),{url:a,iconSize:24,style:"0",pic:"http://s1.bdstatic.com/r/www/cache/mid/static/xueshu/img/wechat_88f70b1.png",text:$("#dtl_l h3 a").text()+"_百度学术",desc:$.subByte($("#dtl_l .abstract").text(),100)+"\n || 作者："+$("#dtl_l .author_text").text(),hideMore:!0,data:[{id:"weixin",title:"分享到微信"},{id:"sqq",title:"分享到QQ好友"},{id:"tsina",title:"分享到新浪微博"},{id:"qzone",title:"分享到QQ空间"},{id:"evernotecn",title:"分享到印象笔记"},{id:"youdao",title:"分享到有道云笔记"},{id:"mail",title:"分享到邮件分享"}]}),clearTimeout(e),t=setTimeout(function(){$(".sc_share_box_content").show()
},200)):n=setTimeout(function(){$(s).trigger("mouseenter")},200)}),$(".sc_share,.sc_share_box_content").on("mouseleave",function(){clearTimeout(t),clearTimeout(n),e=setTimeout(function(){$(".sc_share_box_content").hide()},200)})}),$(".paper_src_wr .src_tabitem").on("click",function(t){var e=$(this),n=e.attr("data-target");e.siblings(".tab_cur").removeClass("tab_cur"),e.addClass("tab_cur"),$(".src_container").hide(),$("#"+n).show(),t.preventDefault(),_hmt&&_hmt.push(["_trackPageview","/virtual/detailpage_tab"])
}),$(".paper_more_btn").on("click",function(t){$("#allversion_wr .dl_item_more").css("display","inline-block"),$(this).parents(".paper_src_more").hide(),t.preventDefault()})}(),function(){function t(){$.each($(".dl_libaccount_link"),function(){var t=this,e="",n=encodeURIComponent(window.location.protocol+"//"+window.location.host+"/usercenter/data/nationalaccount?cmd=token_grant"),i=$(t).prev(".dl_item").attr("href");e=encodeURIComponent(0!=i.indexOf("http")?window.location.protocol+"//"+window.location.host+i:i),$(t).prev(".dl_item").attr("href","http://sso2.nlc.cn:8080/nlcbd/api/nlclogin?url="+e+"&jump_url="+n),$(t).html('(已绑定账号，<a href="javascript:;" class="unbind_libaccount">解绑</a>)')
})}var e=$(".paper_src_wr");e.on("click",".bind_libaccount",function(e){return"1"!==bds.comm.isLogin?(bds.se.login.open(),!1):(bds.se.libAccount.init(function(){t(),bds.se.libAccount.hide(),bds.util.showDialog(200,"恭喜您，绑定成功！")}),void e.preventDefault())}),e.on("click",".unbind_libaccount",function(t){bds.se.libAccount.unbind({unbindSucFn:function(){window.document.location.reload(!0)},unbindFailFn:function(){bds.se.libAccount.hide(),bds.util.showDialog(-1,"抱歉，解绑失败了！")}}),t.preventDefault()}),$(".dl_libaccount_link").length&&bds.se.libAccount.getAccountStatus(function(){t()
})}(),function(){bds.se.ppv.getStatus($(".reqdata").attr("url"))}();