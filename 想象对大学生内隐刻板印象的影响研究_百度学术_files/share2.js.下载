(function(){A.ui.share2=function(c,b){var e=new a(c,b);return{dispose:e.dispose}};function a(c,b){var d=this;d.shareId="bd_share_id_"+new Date().getTime();d.op={text:"",desc:"",pic:"",iconSize:16,style:0,containerClassName:"bdsharebuttonbox",hideMore:false,morePosition:"first",data:[{id:"tsina",title:"分享到新浪微博"},{id:"qzone",title:"分享到QQ空间"},{id:"renren",title:"分享到人人网"},{id:"tieba",title:"分享到百度贴吧"}]};if(b){d.op=$.extend({},d.op,b)}if(!d.op.hideMore){d.op.data[d.op.morePosition==="first"?"unshift":"push"]({id:"more"})}d.$con=$(c);d.initDom();d.initConfig();d.ajax_finished=false;if(window.A.ui.share2){d.initShare()}}a.prototype={initDom:function(){var c=this;var b='<div class="'+c.op.containerClassName+'" data-tag="'+c.shareId+'">';$.each(c.op.data,function(d,e){b+='<a href="javascript:;" class="bds_'+e.id+'" data-cmd="'+e.id+'"'+(e.title?' title="'+e.title+'"':"")+"></a>"});b+="</div>";c.$con.html(b)},initConfig:function(){var b=this,c=window.bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://bdimg.share.baidu.com/"):"http://bdimg.share.baidu.com/";if(!window.A.ui.share2.loaded){$.ajax({type:"GET",url:A.uiPrefix+"share2/bd_share.js",success:function(){if(b.ajax_finished){return}window.A.ui.share2.loaded=true;b.initShare()},dataType:"script",cache:true})}},initShare:function(){var b=this;if(window._bd_share_main&&window._bd_share_main.init){window._bd_share_main.init({share:{tag:b.shareId,bdText:b.op.text,bdDesc:b.op.desc,bdStyle:b.op.style,bdSize:b.op.iconSize,bdPic:b.op.pic,bdUrl:b.op.url}})}},dispose:function(){this.ajax_finished=true;window.A.ui.share2.loaded=false;(window._bd_share_main)&&(window._bd_share_main=undefined)}}})();